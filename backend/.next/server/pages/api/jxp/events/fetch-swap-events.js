"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/jxp/events/fetch-swap-events";
exports.ids = ["pages/api/jxp/events/fetch-swap-events"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "viem":
/*!***********************!*\
  !*** external "viem" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("viem");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fjxp%2Fevents%2Ffetch-swap-events&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cjxp%5Cevents%5Cfetch-swap-events.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fjxp%2Fevents%2Ffetch-swap-events&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cjxp%5Cevents%5Cfetch-swap-events.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_jxp_events_fetch_swap_events_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\jxp\\events\\fetch-swap-events.ts */ \"(api)/./pages/api/jxp/events/fetch-swap-events.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_jxp_events_fetch_swap_events_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_jxp_events_fetch_swap_events_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_jxp_events_fetch_swap_events_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_jxp_events_fetch_swap_events_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/jxp/events/fetch-swap-events\",\n        pathname: \"/api/jxp/events/fetch-swap-events\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_jxp_events_fetch_swap_events_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmp4cCUyRmV2ZW50cyUyRmZldGNoLXN3YXAtZXZlbnRzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNqeHAlNUNldmVudHMlNUNmZXRjaC1zd2FwLWV2ZW50cy50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM0RTtBQUM1RTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsdUVBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHVFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ppa3VuYS1zd2FwLWJhY2tlbmQvPzhhNDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxqeHBcXFxcZXZlbnRzXFxcXGZldGNoLXN3YXAtZXZlbnRzLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvanhwL2V2ZW50cy9mZXRjaC1zd2FwLWV2ZW50c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2p4cC9ldmVudHMvZmV0Y2gtc3dhcC1ldmVudHNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fjxp%2Fevents%2Ffetch-swap-events&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cjxp%5Cevents%5Cfetch-swap-events.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./config/chains.ts":
/*!**************************!*\
  !*** ./config/chains.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NATIVE_TOKEN_ADDRESS: () => (/* binding */ NATIVE_TOKEN_ADDRESS),\n/* harmony export */   monadTestnet: () => (/* binding */ monadTestnet)\n/* harmony export */ });\nconst monadTestnet = {\n    id: 1337,\n    name: \"Monad Testnet\",\n    network: \"monad-testnet\",\n    nativeCurrency: {\n        decimals: 18,\n        name: \"Monad\",\n        symbol: \"MON\"\n    },\n    rpcUrls: {\n        default: {\n            http: [\n                \"https://testnet-rpc.monad.xyz\"\n            ]\n        },\n        public: {\n            http: [\n                \"https://testnet-rpc.monad.xyz\"\n            ]\n        }\n    },\n    blockExplorers: {\n        default: {\n            name: \"Monad Explorer\",\n            url: \"https://explorer.monad.xyz\"\n        }\n    }\n};\nconst NATIVE_TOKEN_ADDRESS = \"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb25maWcvY2hhaW5zLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRU8sTUFBTUEsZUFBZTtJQUMxQkMsSUFBSTtJQUNKQyxNQUFNO0lBQ05DLFNBQVM7SUFDVEMsZ0JBQWdCO1FBQ2RDLFVBQVU7UUFDVkgsTUFBTTtRQUNOSSxRQUFRO0lBQ1Y7SUFDQUMsU0FBUztRQUNQQyxTQUFTO1lBQ1BDLE1BQU07Z0JBQUM7YUFBZ0M7UUFDekM7UUFDQUMsUUFBUTtZQUNORCxNQUFNO2dCQUFDO2FBQWdDO1FBQ3pDO0lBQ0Y7SUFDQUUsZ0JBQWdCO1FBQ2RILFNBQVM7WUFDUE4sTUFBTTtZQUNOVSxLQUFLO1FBQ1A7SUFDRjtBQUNGLEVBQUM7QUFFTSxNQUFNQyx1QkFBdUIsNkNBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamlrdW5hLXN3YXAtYmFja2VuZC8uL2NvbmZpZy9jaGFpbnMudHM/MmViMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZpbmVDaGFpbiB9IGZyb20gJ3ZpZW0nXHJcblxyXG5leHBvcnQgY29uc3QgbW9uYWRUZXN0bmV0ID0ge1xyXG4gIGlkOiAxMzM3LFxyXG4gIG5hbWU6ICdNb25hZCBUZXN0bmV0JyxcclxuICBuZXR3b3JrOiAnbW9uYWQtdGVzdG5ldCcsXHJcbiAgbmF0aXZlQ3VycmVuY3k6IHtcclxuICAgIGRlY2ltYWxzOiAxOCxcclxuICAgIG5hbWU6ICdNb25hZCcsXHJcbiAgICBzeW1ib2w6ICdNT04nLFxyXG4gIH0sXHJcbiAgcnBjVXJsczoge1xyXG4gICAgZGVmYXVsdDoge1xyXG4gICAgICBodHRwOiBbJ2h0dHBzOi8vdGVzdG5ldC1ycGMubW9uYWQueHl6J10sXHJcbiAgICB9LFxyXG4gICAgcHVibGljOiB7XHJcbiAgICAgIGh0dHA6IFsnaHR0cHM6Ly90ZXN0bmV0LXJwYy5tb25hZC54eXonXSxcclxuICAgIH0sXHJcbiAgfSxcclxuICBibG9ja0V4cGxvcmVyczoge1xyXG4gICAgZGVmYXVsdDoge1xyXG4gICAgICBuYW1lOiAnTW9uYWQgRXhwbG9yZXInLFxyXG4gICAgICB1cmw6ICdodHRwczovL2V4cGxvcmVyLm1vbmFkLnh5eicsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBOQVRJVkVfVE9LRU5fQUREUkVTUyA9ICcweEVlZWVlRWVlZUVlRWVlRWVFZUVlZUVFRWVlZWVFZWVlZWVlZUVFZUUnICJdLCJuYW1lcyI6WyJtb25hZFRlc3RuZXQiLCJpZCIsIm5hbWUiLCJuZXR3b3JrIiwibmF0aXZlQ3VycmVuY3kiLCJkZWNpbWFscyIsInN5bWJvbCIsInJwY1VybHMiLCJkZWZhdWx0IiwiaHR0cCIsInB1YmxpYyIsImJsb2NrRXhwbG9yZXJzIiwidXJsIiwiTkFUSVZFX1RPS0VOX0FERFJFU1MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./config/chains.ts\n");

/***/ }),

/***/ "(api)/./config/contracts.ts":
/*!*****************************!*\
  !*** ./config/contracts.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminWallet: () => (/* binding */ adminWallet),\n/* harmony export */   contracts: () => (/* binding */ contracts)\n/* harmony export */ });\nconst contracts = {\n    jikunaSwap: {\n        address: process.env.JIKUNA_SWAP_ADDRESS || \"0x9906c1FbaD6262E72fC3aA1db42A89a3629f93EE\",\n        fromBlock: BigInt(0)\n    },\n    jikunaSwapETH: {\n        address: process.env.JIKUNA_SWAP_ETH_ADDRESS || \"0x0f36AF6f7EA2b7708D756991E1f13ec0Add23998\",\n        fromBlock: BigInt(0)\n    },\n    jikunaXtraPointsV2: {\n        address: process.env.JXP_CONTRACT_ADDRESS || \"0x1b869CEaC99F779e881DbD1354a3582F8bca9Af3\"\n    }\n};\nconst adminWallet = {\n    address: \"0x3E5350732810d539541d5e36DCB9777816E8c934\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb25maWcvY29udHJhY3RzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sTUFBTUEsWUFBWTtJQUN2QkMsWUFBWTtRQUNWQyxTQUFTQyxRQUFRQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO1FBQzVDQyxXQUFXQyxPQUFPO0lBQ3BCO0lBQ0FDLGVBQWU7UUFDYk4sU0FBU0MsUUFBUUMsR0FBRyxDQUFDSyx1QkFBdUIsSUFBSTtRQUNoREgsV0FBV0MsT0FBTztJQUNwQjtJQUNBRyxvQkFBb0I7UUFDbEJSLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ08sb0JBQW9CLElBQUk7SUFDL0M7QUFDRixFQUFDO0FBRU0sTUFBTUMsY0FBYztJQUN6QlYsU0FBUztBQUNYLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qaWt1bmEtc3dhcC1iYWNrZW5kLy4vY29uZmlnL2NvbnRyYWN0cy50cz80YjU3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjb250cmFjdHMgPSB7XHJcbiAgamlrdW5hU3dhcDoge1xyXG4gICAgYWRkcmVzczogcHJvY2Vzcy5lbnYuSklLVU5BX1NXQVBfQUREUkVTUyB8fCAnMHg5OTA2YzFGYmFENjI2MkU3MmZDM2FBMWRiNDJBODlhMzYyOWY5M0VFJyxcclxuICAgIGZyb21CbG9jazogQmlnSW50KDApLCAvLyBVcGRhdGUgdGhpcyB3aXRoIGFjdHVhbCBkZXBsb3ltZW50IGJsb2NrIGZvciBwcm9kdWN0aW9uXHJcbiAgfSxcclxuICBqaWt1bmFTd2FwRVRIOiB7XHJcbiAgICBhZGRyZXNzOiBwcm9jZXNzLmVudi5KSUtVTkFfU1dBUF9FVEhfQUREUkVTUyB8fCAnMHgwZjM2QUY2ZjdFQTJiNzcwOEQ3NTY5OTFFMWYxM2VjMEFkZDIzOTk4JyxcclxuICAgIGZyb21CbG9jazogQmlnSW50KDApLCAvLyBVcGRhdGUgdGhpcyB3aXRoIGFjdHVhbCBkZXBsb3ltZW50IGJsb2NrIGZvciBwcm9kdWN0aW9uXHJcbiAgfSxcclxuICBqaWt1bmFYdHJhUG9pbnRzVjI6IHtcclxuICAgIGFkZHJlc3M6IHByb2Nlc3MuZW52LkpYUF9DT05UUkFDVF9BRERSRVNTIHx8ICcweDFiODY5Q0VhQzk5Rjc3OWU4ODFEYkQxMzU0YTM1ODJGOGJjYTlBZjMnLFxyXG4gIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhZG1pbldhbGxldCA9IHtcclxuICBhZGRyZXNzOiAnMHgzRTUzNTA3MzI4MTBkNTM5NTQxZDVlMzZEQ0I5Nzc3ODE2RThjOTM0JywgLy8gQWRtaW4gd2l0aCBVUERBVEVSIHJvbGVcclxufSAiXSwibmFtZXMiOlsiY29udHJhY3RzIiwiamlrdW5hU3dhcCIsImFkZHJlc3MiLCJwcm9jZXNzIiwiZW52IiwiSklLVU5BX1NXQVBfQUREUkVTUyIsImZyb21CbG9jayIsIkJpZ0ludCIsImppa3VuYVN3YXBFVEgiLCJKSUtVTkFfU1dBUF9FVEhfQUREUkVTUyIsImppa3VuYVh0cmFQb2ludHNWMiIsIkpYUF9DT05UUkFDVF9BRERSRVNTIiwiYWRtaW5XYWxsZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./config/contracts.ts\n");

/***/ }),

/***/ "(api)/./lib/blockchain/event-listener.ts":
/*!******************************************!*\
  !*** ./lib/blockchain/event-listener.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchNewSwapEvents: () => (/* binding */ fetchNewSwapEvents)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! viem */ \"viem\");\n/* harmony import */ var _config_chains__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/chains */ \"(api)/./config/chains.ts\");\n/* harmony import */ var _config_contracts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/config/contracts */ \"(api)/./config/contracts.ts\");\n/* harmony import */ var _lib_database_swap_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/database/swap-events */ \"(api)/./lib/database/swap-events.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([viem__WEBPACK_IMPORTED_MODULE_0__]);\nviem__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Initialize global variables if not already set\nglobal.lastProcessedBlockJikunaSwap = global.lastProcessedBlockJikunaSwap || undefined;\nglobal.lastProcessedBlockJikunaSwapETH = global.lastProcessedBlockJikunaSwapETH || undefined;\n// Initialize Viem client\nconst client = (0,viem__WEBPACK_IMPORTED_MODULE_0__.createPublicClient)({\n    chain: (0,viem__WEBPACK_IMPORTED_MODULE_0__.defineChain)(_config_chains__WEBPACK_IMPORTED_MODULE_1__.monadTestnet),\n    transport: (0,viem__WEBPACK_IMPORTED_MODULE_0__.http)(process.env.MONAD_RPC_URL || \"https://testnet-rpc.monad.xyz\")\n});\n// Define event ABIs directly as const objects - FIXED: matching debug-tx.ts implementation\nconst swapEventAbi = {\n    anonymous: false,\n    inputs: [\n        {\n            indexed: true,\n            name: \"sender\",\n            type: \"address\"\n        },\n        {\n            indexed: false,\n            name: \"amount0In\",\n            type: \"uint256\"\n        },\n        {\n            indexed: false,\n            name: \"amount1In\",\n            type: \"uint256\"\n        },\n        {\n            indexed: false,\n            name: \"amount0Out\",\n            type: \"uint256\"\n        },\n        {\n            indexed: false,\n            name: \"amount1Out\",\n            type: \"uint256\"\n        },\n        {\n            indexed: true,\n            name: \"to\",\n            type: \"address\"\n        },\n        {\n            indexed: true,\n            name: \"tokenIn\",\n            type: \"address\"\n        },\n        {\n            indexed: true,\n            name: \"tokenOut\",\n            type: \"address\"\n        }\n    ],\n    name: \"Swap\",\n    type: \"event\"\n};\nconst swapETHEventAbi = {\n    anonymous: false,\n    inputs: [\n        {\n            indexed: true,\n            name: \"sender\",\n            type: \"address\"\n        },\n        {\n            indexed: false,\n            name: \"ethAmount\",\n            type: \"uint256\"\n        },\n        {\n            indexed: false,\n            name: \"tokenAmount\",\n            type: \"uint256\"\n        },\n        {\n            indexed: true,\n            name: \"to\",\n            type: \"address\"\n        },\n        {\n            indexed: true,\n            name: \"token\",\n            type: \"address\"\n        },\n        {\n            indexed: false,\n            name: \"ethToToken\",\n            type: \"bool\"\n        }\n    ],\n    name: \"SwapETH\",\n    type: \"event\"\n};\n// FIXED: Computed event signatures for manual filtering\nconst SWAP_EVENT_SIGNATURE = \"0xd78ad95fa46c994b6551d0da85fc275fe613ce37657fb8d5e3d130840159d822\";\nconst SWAP_ETH_EVENT_SIGNATURE = \"0xec2a1c1a9d76935489efcdc36ed4031c54e1e989a6872ab1d72a7b243198e235\";\n// Track last processed block for each contract\nlet lastProcessedBlockJikunaSwap = _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.fromBlock;\nlet lastProcessedBlockJikunaSwapETH = _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.fromBlock;\n// Konstanta untuk batasan RPC\nconst MAX_BLOCKS_PER_QUERY = BigInt(100);\nasync function fetchNewSwapEvents() {\n    const allSwapEvents = [];\n    try {\n        const currentBlock = await client.getBlockNumber();\n        console.log(`Current block: ${currentBlock}, Last processed JikunaSwap: ${lastProcessedBlockJikunaSwap}, Last processed JikunaSwapETH: ${lastProcessedBlockJikunaSwapETH}`);\n        // Jika ini adalah pertama kali kami menjalankan, gunakan blok saat ini - 1000 sebagai awal\n        // untuk menghindari memindai terlalu banyak blok\n        if (lastProcessedBlockJikunaSwap === BigInt(0)) {\n            lastProcessedBlockJikunaSwap = currentBlock > BigInt(1000) ? currentBlock - BigInt(1000) : BigInt(0);\n            console.log(`Initialized lastProcessedBlockJikunaSwap to ${lastProcessedBlockJikunaSwap}`);\n        }\n        if (lastProcessedBlockJikunaSwapETH === BigInt(0)) {\n            lastProcessedBlockJikunaSwapETH = currentBlock > BigInt(1000) ? currentBlock - BigInt(1000) : BigInt(0);\n            console.log(`Initialized lastProcessedBlockJikunaSwapETH to ${lastProcessedBlockJikunaSwapETH}`);\n        }\n        // Cek apakah ada nilai dari reset-blocks endpoint yang tersedia\n        if (global.lastProcessedBlockJikunaSwap) {\n            lastProcessedBlockJikunaSwap = global.lastProcessedBlockJikunaSwap;\n            lastProcessedBlockJikunaSwapETH = global.lastProcessedBlockJikunaSwapETH || global.lastProcessedBlockJikunaSwap;\n            // Reset nilai global agar hanya digunakan sekali\n            global.lastProcessedBlockJikunaSwap = undefined;\n            global.lastProcessedBlockJikunaSwapETH = undefined;\n            console.log(`Using reset blocks - scanning from ${lastProcessedBlockJikunaSwap}`);\n        }\n        // IMPROVED: Increase safety overlap to ensure we don't miss any transactions\n        // Especially important for high-volume periods or network issues\n        const safetyOverlap = BigInt(500);\n        const scanFromJikunaSwap = lastProcessedBlockJikunaSwap > safetyOverlap ? lastProcessedBlockJikunaSwap - safetyOverlap : lastProcessedBlockJikunaSwap;\n        const scanFromJikunaSwapETH = lastProcessedBlockJikunaSwapETH > safetyOverlap ? lastProcessedBlockJikunaSwapETH - safetyOverlap : lastProcessedBlockJikunaSwapETH;\n        console.log(`Adding larger safety overlap: scanning JikunaSwap from ${scanFromJikunaSwap}, JikunaSwapETH from ${scanFromJikunaSwapETH}`);\n        // FIXED: Reduce batch size to avoid any potential RPC limits\n        const originalMaxBlocksPerQuery = MAX_BLOCKS_PER_QUERY;\n        const reducedMaxBlocksPerQuery = BigInt(50);\n        console.log(`Using smaller batch size: ${reducedMaxBlocksPerQuery} blocks per query instead of ${originalMaxBlocksPerQuery}`);\n        // Fetch JikunaSwap events (ERC20-ERC20) in batches with reduced batch size\n        const swapEvents = await fetchJikunaSwapEventsBatched(scanFromJikunaSwap, currentBlock, reducedMaxBlocksPerQuery);\n        allSwapEvents.push(...swapEvents);\n        console.log(`Total ERC20-ERC20 swap events fetched: ${swapEvents.length}`);\n        // Fetch JikunaSwapETH events (ERC20-MON) in batches with reduced batch size\n        const swapETHEvents = await fetchJikunaSwapETHEventsBatched(scanFromJikunaSwapETH, currentBlock, reducedMaxBlocksPerQuery);\n        allSwapEvents.push(...swapETHEvents);\n        console.log(`Total ETH-ERC20 swap events fetched: ${swapETHEvents.length}`);\n        // Update last processed blocks\n        lastProcessedBlockJikunaSwap = currentBlock;\n        lastProcessedBlockJikunaSwapETH = currentBlock;\n        // Save all events to database\n        if (allSwapEvents.length > 0) {\n            console.log(`Saving ${allSwapEvents.length} new swap events to database`);\n            await (0,_lib_database_swap_events__WEBPACK_IMPORTED_MODULE_3__.saveSwapEvents)(allSwapEvents);\n        }\n        return {\n            swapEvents: allSwapEvents,\n            newSwapsCount: allSwapEvents.length\n        };\n    } catch (error) {\n        console.error(\"Error fetching swap events:\", error);\n        throw error;\n    }\n}\nasync function fetchJikunaSwapEventsBatched(fromBlock, toBlock, batchSize = MAX_BLOCKS_PER_QUERY) {\n    const allEvents = [];\n    try {\n        // Proses dalam batch karena RPC memiliki batasan 100 blok per permintaan\n        let startBlock = fromBlock;\n        while(startBlock <= toBlock){\n            const endBlock = startBlock + batchSize > toBlock ? toBlock : startBlock + batchSize;\n            console.log(`Fetching JikunaSwap events from block ${startBlock} to ${endBlock}`);\n            try {\n                const events = await fetchJikunaSwapEvents(startBlock, endBlock);\n                allEvents.push(...events);\n                console.log(`Found ${events.length} JikunaSwap events in batch ${startBlock}-${endBlock}`);\n            } catch (error) {\n                console.error(`Error fetching JikunaSwap events for blocks ${startBlock}-${endBlock}:`, error);\n            }\n            startBlock = endBlock + BigInt(1);\n        }\n        return allEvents;\n    } catch (error) {\n        console.error(\"Error in batch processing JikunaSwap events:\", error);\n        return allEvents;\n    }\n}\nasync function fetchJikunaSwapETHEventsBatched(fromBlock, toBlock, batchSize = MAX_BLOCKS_PER_QUERY) {\n    const allEvents = [];\n    try {\n        // Proses dalam batch karena RPC memiliki batasan 100 blok per permintaan\n        let startBlock = fromBlock;\n        while(startBlock <= toBlock){\n            const endBlock = startBlock + batchSize > toBlock ? toBlock : startBlock + batchSize;\n            console.log(`Fetching JikunaSwapETH events from block ${startBlock} to ${endBlock}`);\n            try {\n                const events = await fetchJikunaSwapETHEvents(startBlock, endBlock);\n                allEvents.push(...events);\n                console.log(`Found ${events.length} JikunaSwapETH events in batch ${startBlock}-${endBlock}`);\n            } catch (error) {\n                console.error(`Error fetching JikunaSwapETH events for blocks ${startBlock}-${endBlock}:`, error);\n            }\n            startBlock = endBlock + BigInt(1);\n        }\n        return allEvents;\n    } catch (error) {\n        console.error(\"Error in batch processing JikunaSwapETH events:\", error);\n        return allEvents;\n    }\n}\nasync function fetchJikunaSwapEvents(fromBlock, toBlock) {\n    try {\n        console.log(`Fetching Swap events from JikunaSwap contract ${_config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.address} for blocks ${fromBlock}-${toBlock}`);\n        // Coba fetch transaksi dengan berbagai pendekatan untuk memastikan tidak ada yang terlewat\n        let logs = [];\n        // IMPROVED: More verbose log debugging\n        console.log(`Contract address: ${_config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.address}`);\n        console.log(`Event signature: ${SWAP_EVENT_SIGNATURE}`);\n        // Metode 1: Coba dengan event filter standard\n        try {\n            logs = await client.getLogs({\n                address: _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.address,\n                event: swapEventAbi,\n                fromBlock,\n                toBlock\n            });\n            console.log(`Found ${logs.length} logs with standard event filter method from JikunaSwap contract`);\n        } catch (error) {\n            console.error(\"Error with standard event filter method, will try alternatives:\", error);\n        }\n        // Jika metode 1 gagal atau tidak menemukan log\n        if (logs.length === 0) {\n            try {\n                console.log(\"Trying alternative method 1: filter by address only\");\n                const allLogs = await client.getLogs({\n                    address: _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.address,\n                    fromBlock,\n                    toBlock\n                });\n                console.log(`Found ${allLogs.length} logs for contract address, filtering by event signature`);\n                // Filter logs secara manual dengan topic signature yang benar\n                logs = allLogs.filter((log)=>log.topics && log.topics.length > 0 && log.topics[0]?.toLowerCase() === SWAP_EVENT_SIGNATURE.toLowerCase());\n                console.log(`After filtering: ${logs.length} logs match the Swap event signature`);\n            } catch (altError) {\n                console.error(\"Error fetching logs with alternative method 1:\", altError);\n            }\n        }\n        // Metode 3: Jika semua gagal, coba cara paling dasar dengan filter terbatas\n        if (logs.length === 0) {\n            try {\n                console.log(\"Trying alternative method 2: direct transaction fetch\");\n                // Mendapatkan semua logs tanpa filter address\n                const rawLogs = await client.getLogs({\n                    fromBlock,\n                    toBlock\n                });\n                console.log(`Retrieved ${rawLogs.length} raw logs from all addresses`);\n                // Filter manual berdasarkan address dan topic\n                logs = rawLogs.filter((log)=>log.address && log.address.toLowerCase() === _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.address.toLowerCase() && log.topics && log.topics.length > 0 && log.topics[0]?.toLowerCase() === SWAP_EVENT_SIGNATURE.toLowerCase());\n                console.log(`After double filtering: ${logs.length} logs match the Swap event criteria`);\n            } catch (emergencyError) {\n                console.error(\"Emergency method failed:\", emergencyError);\n            }\n        }\n        console.log(`Total ${logs.length} raw logs found from JikunaSwap contract`);\n        // IMPROVED: Add all transaction hashes to debug log\n        if (logs.length > 0) {\n            console.log(\"Transaction hashes in these logs:\");\n            for (const log of logs){\n                console.log(`  - ${log.transactionHash}, block: ${log.blockNumber}`);\n            }\n        }\n        const swapEvents = [];\n        for (const log of logs){\n            try {\n                console.log(`\\nProcessing log: ${JSON.stringify({\n                    blockNumber: log.blockNumber,\n                    txHash: log.transactionHash,\n                    address: log.address,\n                    topics: log.topics.map((t)=>t?.toString())\n                })}`);\n                // Basic validation\n                if (!log.transactionHash) {\n                    console.log(`Skipping log with missing transaction hash`);\n                    continue;\n                }\n                // Check if we've already processed this transaction\n                const existingEvent = await (0,_lib_database_swap_events__WEBPACK_IMPORTED_MODULE_3__.getSwapEventByTxHash)(log.transactionHash);\n                if (existingEvent) {\n                    console.log(`Skipping already processed tx: ${log.transactionHash}`);\n                    continue;\n                }\n                // IMPROVED: Better extraction of indexed parameters\n                // Extract sender from topic 1\n                const sender = log.topics[1] ? `0x${log.topics[1].substring(log.topics[1].length - 40)}` : undefined;\n                // Extract to address from topic 2\n                const to = log.topics[2] ? `0x${log.topics[2].substring(log.topics[2].length - 40)}` : undefined;\n                // Extract tokenIn from topic 3\n                const tokenIn = log.topics[3] ? `0x${log.topics[3].substring(log.topics[3].length - 40)}` : undefined;\n                // Extract tokenOut from topic 4\n                const tokenOut = log.topics.length > 4 && log.topics[4] ? `0x${log.topics[4].substring(log.topics[4].length - 40)}` : undefined;\n                console.log(`Extracted parameters: sender=${sender}, to=${to}, tokenIn=${tokenIn}, tokenOut=${tokenOut}`);\n                if (!sender) {\n                    console.log(`Skipping log due to missing sender address`);\n                    continue;\n                }\n                // Default values if we can't extract properly\n                // Not ideal but allows processing to continue\n                const usedTokenIn = tokenIn || _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.address;\n                const usedTokenOut = tokenOut || _config_chains__WEBPACK_IMPORTED_MODULE_1__.NATIVE_TOKEN_ADDRESS;\n                // Default values for non-indexed params - we'll try to decode these from data\n                let amount0In = BigInt(0);\n                let amount1In = BigInt(0);\n                let amount0Out = BigInt(0);\n                let amount1Out = BigInt(0);\n                // Try to parse non-indexed values from data if available\n                try {\n                    if (log.data && log.data !== \"0x\") {\n                        // Simplified parsing - in a real implementation, you would need proper ABI decoding\n                        // Here we're just assuming the data format matches what we expect\n                        const data = log.data.slice(2); // remove '0x'\n                        if (data.length >= 256) {\n                            // Parse 4 uint256 values\n                            amount0In = BigInt(\"0x\" + data.slice(0, 64));\n                            amount1In = BigInt(\"0x\" + data.slice(64, 128));\n                            amount0Out = BigInt(\"0x\" + data.slice(128, 192));\n                            amount1Out = BigInt(\"0x\" + data.slice(192, 256));\n                            console.log(`Parsed amounts: amount0In=${amount0In}, amount1In=${amount1In}, amount0Out=${amount0Out}, amount1Out=${amount1Out}`);\n                        }\n                    }\n                } catch (decodeError) {\n                    console.error(\"Error decoding data:\", decodeError);\n                    // Fall back to default values\n                    console.log(\"Using default values due to decode error\");\n                    amount0In = BigInt(\"1000000000000000000\"); // 1 token as fallback\n                    amount1In = BigInt(0);\n                    amount0Out = BigInt(0);\n                    amount1Out = BigInt(\"1000000000000000000\"); // 1 token as fallback\n                }\n                // Determine amounts based on which token is in vs out\n                const amountIn = amount0In > 0 ? amount0In : amount1In;\n                const amountOut = amount0Out > 0 ? amount0Out : amount1Out;\n                // Use default if both are zero (unlikely but possible due to parsing issues)\n                const finalAmountIn = amountIn > 0 ? amountIn : BigInt(\"1000000000000000000\");\n                const finalAmountOut = amountOut > 0 ? amountOut : BigInt(\"1000000000000000000\");\n                // Calculate volume in MON (simplified approach)\n                let volumeMON = 10 // Default example value\n                ;\n                // If either token is MON or WMON, use that amount directly\n                if (usedTokenIn.toLowerCase() === _config_chains__WEBPACK_IMPORTED_MODULE_1__.NATIVE_TOKEN_ADDRESS.toLowerCase() || usedTokenIn.toLowerCase() === _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.address.toLowerCase()) {\n                    volumeMON = Number((0,viem__WEBPACK_IMPORTED_MODULE_0__.formatEther)(finalAmountIn));\n                } else if (usedTokenOut.toLowerCase() === _config_chains__WEBPACK_IMPORTED_MODULE_1__.NATIVE_TOKEN_ADDRESS.toLowerCase() || usedTokenOut.toLowerCase() === _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.address.toLowerCase()) {\n                    volumeMON = Number((0,viem__WEBPACK_IMPORTED_MODULE_0__.formatEther)(finalAmountOut));\n                }\n                // Calculate JXP (1 JXP per 10 MON volume)\n                const calculatedJXP = Math.floor(volumeMON / 10);\n                const swapEvent = {\n                    user: sender,\n                    timestamp: new Date(),\n                    txHash: log.transactionHash,\n                    tokenIn: usedTokenIn,\n                    tokenOut: usedTokenOut,\n                    amountIn: finalAmountIn.toString(),\n                    amountOut: finalAmountOut.toString(),\n                    volumeMON,\n                    calculatedJXP,\n                    processed: false\n                };\n                console.log(`Created swap event: ${JSON.stringify(swapEvent)}`);\n                swapEvents.push(swapEvent);\n            } catch (logError) {\n                console.error(`Error processing individual log: ${logError}`);\n            }\n        }\n        return swapEvents;\n    } catch (error) {\n        console.error(\"Error fetching JikunaSwap events:\", error);\n        return [];\n    }\n}\nasync function fetchJikunaSwapETHEvents(fromBlock, toBlock) {\n    try {\n        console.log(`Fetching SwapETH events from JikunaSwapETH contract ${_config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.address} for blocks ${fromBlock}-${toBlock}`);\n        // Coba fetch transaksi dengan berbagai pendekatan untuk memastikan tidak ada yang terlewat\n        let logs = [];\n        // IMPROVED: More verbose log debugging\n        console.log(`Contract address: ${_config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.address}`);\n        console.log(`Event signature: ${SWAP_ETH_EVENT_SIGNATURE}`);\n        // Metode 1: Coba dengan event filter standard\n        try {\n            logs = await client.getLogs({\n                address: _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.address,\n                event: swapETHEventAbi,\n                fromBlock,\n                toBlock\n            });\n            console.log(`Found ${logs.length} logs with standard event filter method from JikunaSwapETH contract`);\n        } catch (error) {\n            console.error(\"Error with standard event filter method for ETH swap, will try alternatives:\", error);\n        }\n        // Jika metode 1 gagal atau tidak menemukan log\n        if (logs.length === 0) {\n            try {\n                console.log(\"Trying alternative method 1: filter by address only\");\n                const allLogs = await client.getLogs({\n                    address: _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.address,\n                    fromBlock,\n                    toBlock\n                });\n                console.log(`Found ${allLogs.length} logs for contract address, filtering by event signature`);\n                // Filter logs secara manual dengan topic signature yang benar\n                logs = allLogs.filter((log)=>log.topics && log.topics.length > 0 && log.topics[0]?.toLowerCase() === SWAP_ETH_EVENT_SIGNATURE.toLowerCase());\n                console.log(`After filtering: ${logs.length} logs match the SwapETH event signature`);\n            } catch (altError) {\n                console.error(\"Error fetching logs with alternative method 1:\", altError);\n            }\n        }\n        // Metode 3: Jika semua gagal, coba cara paling dasar dengan filter terbatas\n        if (logs.length === 0) {\n            try {\n                console.log(\"Trying alternative method 2: direct transaction fetch\");\n                // Mendapatkan semua logs tanpa filter address\n                const rawLogs = await client.getLogs({\n                    fromBlock,\n                    toBlock\n                });\n                console.log(`Retrieved ${rawLogs.length} raw logs from all addresses`);\n                // Filter manual berdasarkan address dan topic\n                logs = rawLogs.filter((log)=>log.address && log.address.toLowerCase() === _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwapETH.address.toLowerCase() && log.topics && log.topics.length > 0 && log.topics[0]?.toLowerCase() === SWAP_ETH_EVENT_SIGNATURE.toLowerCase());\n                console.log(`After double filtering: ${logs.length} logs match the SwapETH event criteria`);\n            } catch (emergencyError) {\n                console.error(\"Emergency method failed:\", emergencyError);\n            }\n        }\n        console.log(`Total ${logs.length} raw logs found from JikunaSwapETH contract`);\n        // IMPROVED: Add all transaction hashes to debug log\n        if (logs.length > 0) {\n            console.log(\"Transaction hashes in these logs:\");\n            for (const log of logs){\n                console.log(`  - ${log.transactionHash}, block: ${log.blockNumber}`);\n            }\n        }\n        const swapEvents = [];\n        for (const log of logs){\n            try {\n                console.log(`\\nProcessing ETH log: ${JSON.stringify({\n                    blockNumber: log.blockNumber,\n                    txHash: log.transactionHash,\n                    address: log.address,\n                    topics: log.topics.map((t)=>t?.toString())\n                })}`);\n                // Basic validation\n                if (!log.transactionHash) {\n                    console.log(`Skipping ETH log with missing transaction hash`);\n                    continue;\n                }\n                // Check if we've already processed this transaction\n                const existingEvent = await (0,_lib_database_swap_events__WEBPACK_IMPORTED_MODULE_3__.getSwapEventByTxHash)(log.transactionHash);\n                if (existingEvent) {\n                    console.log(`Skipping already processed ETH tx: ${log.transactionHash}`);\n                    continue;\n                }\n                // IMPROVED: Better extraction of indexed parameters\n                // Extract sender from topic 1\n                const sender = log.topics[1] ? `0x${log.topics[1].substring(log.topics[1].length - 40)}` : undefined;\n                // Extract to address from topic 2\n                const to = log.topics[2] ? `0x${log.topics[2].substring(log.topics[2].length - 40)}` : undefined;\n                // Extract token from topic 3\n                const token = log.topics[3] ? `0x${log.topics[3].substring(log.topics[3].length - 40)}` : undefined;\n                console.log(`Extracted parameters: sender=${sender}, to=${to}, token=${token}`);\n                if (!sender) {\n                    console.log(`Skipping ETH log due to missing sender address`);\n                    continue;\n                }\n                // Default values if we can't extract properly\n                const usedToken = token || _config_contracts__WEBPACK_IMPORTED_MODULE_2__.contracts.jikunaSwap.address;\n                // Try to parse non-indexed values from data\n                let ethAmount = BigInt(0);\n                let tokenAmount = BigInt(0);\n                let ethToToken = false;\n                try {\n                    if (log.data && log.data !== \"0x\") {\n                        // Simplified parsing - would need proper ABI decoding in production\n                        const data = log.data.slice(2); // remove '0x'\n                        if (data.length >= 128) {\n                            ethAmount = BigInt(\"0x\" + data.slice(0, 64));\n                            tokenAmount = BigInt(\"0x\" + data.slice(64, 128));\n                            // Last 32 bytes is bool ethToToken - 0 is false, 1 is true\n                            const ethToTokenValue = data.slice(128, 132); // first 4 chars is enough\n                            ethToToken = ethToTokenValue !== \"0000\";\n                            console.log(`Parsed ETH data: ethAmount=${ethAmount}, tokenAmount=${tokenAmount}, ethToToken=${ethToToken}`);\n                        }\n                    }\n                } catch (decodeError) {\n                    console.error(\"Error decoding ETH data:\", decodeError);\n                    // Use default values as fallback\n                    console.log(\"Using default values due to ETH decode error\");\n                    ethAmount = BigInt(\"1000000000000000000\"); // 1 ETH as fallback\n                    tokenAmount = BigInt(\"1000000000000000000\"); // 1 token as fallback\n                    ethToToken = true; // Default swap direction\n                }\n                // Set default values if both are zero\n                const finalEthAmount = ethAmount > 0 ? ethAmount : BigInt(\"1000000000000000000\");\n                const finalTokenAmount = tokenAmount > 0 ? tokenAmount : BigInt(\"1000000000000000000\");\n                // Volume in MON is the ETH amount\n                const volumeMON = Number((0,viem__WEBPACK_IMPORTED_MODULE_0__.formatEther)(finalEthAmount));\n                // Calculate JXP (1 JXP per 10 MON volume)\n                const calculatedJXP = Math.floor(volumeMON / 10);\n                // Set token in and out based on swap direction\n                const tokenIn = ethToToken ? _config_chains__WEBPACK_IMPORTED_MODULE_1__.NATIVE_TOKEN_ADDRESS : usedToken;\n                const tokenOut = ethToToken ? usedToken : _config_chains__WEBPACK_IMPORTED_MODULE_1__.NATIVE_TOKEN_ADDRESS;\n                const amountIn = ethToToken ? finalEthAmount : finalTokenAmount;\n                const amountOut = ethToToken ? finalTokenAmount : finalEthAmount;\n                const swapEvent = {\n                    user: sender,\n                    timestamp: new Date(),\n                    txHash: log.transactionHash,\n                    tokenIn,\n                    tokenOut,\n                    amountIn: amountIn.toString(),\n                    amountOut: amountOut.toString(),\n                    volumeMON,\n                    calculatedJXP,\n                    processed: false\n                };\n                console.log(`Created ETH swap event: ${JSON.stringify(swapEvent)}`);\n                swapEvents.push(swapEvent);\n            } catch (logError) {\n                console.error(`Error processing individual ETH log: ${logError}`);\n            }\n        }\n        return swapEvents;\n    } catch (error) {\n        console.error(\"Error fetching JikunaSwapETH events:\", error);\n        return [];\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYmxvY2tjaGFpbi9ldmVudC1saXN0ZW5lci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE2RztBQUN6QztBQUN0QjtBQUVtQztBQVVqRixpREFBaUQ7QUFDakRTLE9BQU9DLDRCQUE0QixHQUFHRCxPQUFPQyw0QkFBNEIsSUFBSUM7QUFDN0VGLE9BQU9HLCtCQUErQixHQUFHSCxPQUFPRywrQkFBK0IsSUFBSUQ7QUFFbkYseUJBQXlCO0FBQ3pCLE1BQU1FLFNBQVNiLHdEQUFrQkEsQ0FBQztJQUNoQ2MsT0FBT1gsaURBQVdBLENBQUNDLHdEQUFZQTtJQUMvQlcsV0FBV2QsMENBQUlBLENBQUNlLFFBQVFDLEdBQUcsQ0FBQ0MsYUFBYSxJQUFJO0FBQy9DO0FBRUEsMkZBQTJGO0FBQzNGLE1BQU1DLGVBQWU7SUFDbkJDLFdBQVc7SUFDWEMsUUFBUTtRQUNOO1lBQUVDLFNBQVM7WUFBTUMsTUFBTTtZQUFVQyxNQUFNO1FBQVU7UUFDakQ7WUFBRUYsU0FBUztZQUFPQyxNQUFNO1lBQWFDLE1BQU07UUFBVTtRQUNyRDtZQUFFRixTQUFTO1lBQU9DLE1BQU07WUFBYUMsTUFBTTtRQUFVO1FBQ3JEO1lBQUVGLFNBQVM7WUFBT0MsTUFBTTtZQUFjQyxNQUFNO1FBQVU7UUFDdEQ7WUFBRUYsU0FBUztZQUFPQyxNQUFNO1lBQWNDLE1BQU07UUFBVTtRQUN0RDtZQUFFRixTQUFTO1lBQU1DLE1BQU07WUFBTUMsTUFBTTtRQUFVO1FBQzdDO1lBQUVGLFNBQVM7WUFBTUMsTUFBTTtZQUFXQyxNQUFNO1FBQVU7UUFDbEQ7WUFBRUYsU0FBUztZQUFNQyxNQUFNO1lBQVlDLE1BQU07UUFBVTtLQUNwRDtJQUNERCxNQUFNO0lBQ05DLE1BQU07QUFDUjtBQUVBLE1BQU1DLGtCQUFrQjtJQUN0QkwsV0FBVztJQUNYQyxRQUFRO1FBQ047WUFBRUMsU0FBUztZQUFNQyxNQUFNO1lBQVVDLE1BQU07UUFBVTtRQUNqRDtZQUFFRixTQUFTO1lBQU9DLE1BQU07WUFB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RyxnRUFBb0JBLEdBQUd5RztnQkFDcEQsTUFBTTFCLFdBQVc2QixhQUFhSCxZQUFZekcsZ0VBQW9CQTtnQkFDOUQsTUFBTXlGLFdBQVdtQixhQUFhRSxpQkFBaUJDO2dCQUMvQyxNQUFNckIsWUFBWWtCLGFBQWFHLG1CQUFtQkQ7Z0JBRWxELE1BQU1aLFlBQXVCO29CQUMzQkMsTUFBTXhCO29CQUNOeUIsV0FBVyxJQUFJQztvQkFDZi9CLFFBQVFyQyxJQUFJaUMsZUFBZTtvQkFDM0JZO29CQUNBQztvQkFDQVUsVUFBVUEsU0FBU2hCLFFBQVE7b0JBQzNCaUIsV0FBV0EsVUFBVWpCLFFBQVE7b0JBQzdCb0I7b0JBQ0FFO29CQUNBTyxXQUFXO2dCQUNiO2dCQUVBdEUsUUFBUUMsR0FBRyxDQUFDLENBQUMsd0JBQXdCLEVBQUVtQyxLQUFLQyxTQUFTLENBQUM2QixXQUFXLENBQUM7Z0JBQ2xFM0QsV0FBV0UsSUFBSSxDQUFDeUQ7WUFDbEIsRUFBRSxPQUFPSyxVQUFVO2dCQUNqQnZFLFFBQVFjLEtBQUssQ0FBQyxDQUFDLHFDQUFxQyxFQUFFeUQsU0FBUyxDQUFDO1lBQ2xFO1FBQ0Y7UUFFQSxPQUFPaEU7SUFDVCxFQUFFLE9BQU9PLE9BQU87UUFDZGQsUUFBUWMsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDdEQsT0FBTyxFQUFFO0lBQ1g7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2ppa3VuYS1zd2FwLWJhY2tlbmQvLi9saWIvYmxvY2tjaGFpbi9ldmVudC1saXN0ZW5lci50cz84MDAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVB1YmxpY0NsaWVudCwgaHR0cCwgcGFyc2VBYmlJdGVtLCBwYXJzZUV0aGVyLCBmb3JtYXRFdGhlciwgdHlwZSBMb2csIGRlZmluZUNoYWluIH0gZnJvbSAndmllbSdcclxuaW1wb3J0IHsgbW9uYWRUZXN0bmV0LCBOQVRJVkVfVE9LRU5fQUREUkVTUyB9IGZyb20gJ0AvY29uZmlnL2NoYWlucydcclxuaW1wb3J0IHsgY29udHJhY3RzIH0gZnJvbSAnQC9jb25maWcvY29udHJhY3RzJ1xyXG5pbXBvcnQgeyBTd2FwRXZlbnQgfSBmcm9tICdAL3R5cGVzL3N3YXAtZXZlbnQnXHJcbmltcG9ydCB7IGdldFN3YXBFdmVudEJ5VHhIYXNoLCBzYXZlU3dhcEV2ZW50cyB9IGZyb20gJ0AvbGliL2RhdGFiYXNlL3N3YXAtZXZlbnRzJ1xyXG5pbXBvcnQgSmlrdW5hU3dhcEFCSSBmcm9tICdAL2NvbmZpZy9hYmlzL0ppa3VuYVN3YXAuanNvbidcclxuaW1wb3J0IEppa3VuYVN3YXBFVEhBQkkgZnJvbSAnQC9jb25maWcvYWJpcy9KaWt1bmFTd2FwRVRILmpzb24nXHJcblxyXG4vLyBEZWZpbmlzaSB1bnR1ayB2YXJpYWJlbCBnbG9iYWxcclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciBsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwOiBiaWdpbnQgfCB1bmRlZmluZWQ7XHJcbiAgdmFyIGxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBFVEg6IGJpZ2ludCB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBnbG9iYWwgdmFyaWFibGVzIGlmIG5vdCBhbHJlYWR5IHNldFxyXG5nbG9iYWwubGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcCA9IGdsb2JhbC5sYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwIHx8IHVuZGVmaW5lZDtcclxuZ2xvYmFsLmxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBFVEggPSBnbG9iYWwubGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcEVUSCB8fCB1bmRlZmluZWQ7XHJcblxyXG4vLyBJbml0aWFsaXplIFZpZW0gY2xpZW50XHJcbmNvbnN0IGNsaWVudCA9IGNyZWF0ZVB1YmxpY0NsaWVudCh7XHJcbiAgY2hhaW46IGRlZmluZUNoYWluKG1vbmFkVGVzdG5ldCksXHJcbiAgdHJhbnNwb3J0OiBodHRwKHByb2Nlc3MuZW52Lk1PTkFEX1JQQ19VUkwgfHwgJ2h0dHBzOi8vdGVzdG5ldC1ycGMubW9uYWQueHl6JyksXHJcbn0pXHJcblxyXG4vLyBEZWZpbmUgZXZlbnQgQUJJcyBkaXJlY3RseSBhcyBjb25zdCBvYmplY3RzIC0gRklYRUQ6IG1hdGNoaW5nIGRlYnVnLXR4LnRzIGltcGxlbWVudGF0aW9uXHJcbmNvbnN0IHN3YXBFdmVudEFiaSA9IHtcclxuICBhbm9ueW1vdXM6IGZhbHNlLFxyXG4gIGlucHV0czogW1xyXG4gICAgeyBpbmRleGVkOiB0cnVlLCBuYW1lOiAnc2VuZGVyJywgdHlwZTogJ2FkZHJlc3MnIH0sXHJcbiAgICB7IGluZGV4ZWQ6IGZhbHNlLCBuYW1lOiAnYW1vdW50MEluJywgdHlwZTogJ3VpbnQyNTYnIH0sXHJcbiAgICB7IGluZGV4ZWQ6IGZhbHNlLCBuYW1lOiAnYW1vdW50MUluJywgdHlwZTogJ3VpbnQyNTYnIH0sXHJcbiAgICB7IGluZGV4ZWQ6IGZhbHNlLCBuYW1lOiAnYW1vdW50ME91dCcsIHR5cGU6ICd1aW50MjU2JyB9LFxyXG4gICAgeyBpbmRleGVkOiBmYWxzZSwgbmFtZTogJ2Ftb3VudDFPdXQnLCB0eXBlOiAndWludDI1NicgfSxcclxuICAgIHsgaW5kZXhlZDogdHJ1ZSwgbmFtZTogJ3RvJywgdHlwZTogJ2FkZHJlc3MnIH0sXHJcbiAgICB7IGluZGV4ZWQ6IHRydWUsIG5hbWU6ICd0b2tlbkluJywgdHlwZTogJ2FkZHJlc3MnIH0sXHJcbiAgICB7IGluZGV4ZWQ6IHRydWUsIG5hbWU6ICd0b2tlbk91dCcsIHR5cGU6ICdhZGRyZXNzJyB9XHJcbiAgXSxcclxuICBuYW1lOiAnU3dhcCcsXHJcbiAgdHlwZTogJ2V2ZW50J1xyXG59IGFzIGNvbnN0XHJcblxyXG5jb25zdCBzd2FwRVRIRXZlbnRBYmkgPSB7XHJcbiAgYW5vbnltb3VzOiBmYWxzZSxcclxuICBpbnB1dHM6IFtcclxuICAgIHsgaW5kZXhlZDogdHJ1ZSwgbmFtZTogJ3NlbmRlcicsIHR5cGU6ICdhZGRyZXNzJyB9LFxyXG4gICAgeyBpbmRleGVkOiBmYWxzZSwgbmFtZTogJ2V0aEFtb3VudCcsIHR5cGU6ICd1aW50MjU2JyB9LFxyXG4gICAgeyBpbmRleGVkOiBmYWxzZSwgbmFtZTogJ3Rva2VuQW1vdW50JywgdHlwZTogJ3VpbnQyNTYnIH0sXHJcbiAgICB7IGluZGV4ZWQ6IHRydWUsIG5hbWU6ICd0bycsIHR5cGU6ICdhZGRyZXNzJyB9LFxyXG4gICAgeyBpbmRleGVkOiB0cnVlLCBuYW1lOiAndG9rZW4nLCB0eXBlOiAnYWRkcmVzcycgfSxcclxuICAgIHsgaW5kZXhlZDogZmFsc2UsIG5hbWU6ICdldGhUb1Rva2VuJywgdHlwZTogJ2Jvb2wnIH1cclxuICBdLFxyXG4gIG5hbWU6ICdTd2FwRVRIJyxcclxuICB0eXBlOiAnZXZlbnQnXHJcbn0gYXMgY29uc3RcclxuXHJcbi8vIEZJWEVEOiBDb21wdXRlZCBldmVudCBzaWduYXR1cmVzIGZvciBtYW51YWwgZmlsdGVyaW5nXHJcbmNvbnN0IFNXQVBfRVZFTlRfU0lHTkFUVVJFID0gJzB4ZDc4YWQ5NWZhNDZjOTk0YjY1NTFkMGRhODVmYzI3NWZlNjEzY2UzNzY1N2ZiOGQ1ZTNkMTMwODQwMTU5ZDgyMic7XHJcbmNvbnN0IFNXQVBfRVRIX0VWRU5UX1NJR05BVFVSRSA9ICcweGVjMmExYzFhOWQ3NjkzNTQ4OWVmY2RjMzZlZDQwMzFjNTRlMWU5ODlhNjg3MmFiMWQ3MmE3YjI0MzE5OGUyMzUnO1xyXG5cclxuLy8gVHJhY2sgbGFzdCBwcm9jZXNzZWQgYmxvY2sgZm9yIGVhY2ggY29udHJhY3RcclxubGV0IGxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXAgPSBjb250cmFjdHMuamlrdW5hU3dhcC5mcm9tQmxvY2tcclxubGV0IGxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBFVEggPSBjb250cmFjdHMuamlrdW5hU3dhcEVUSC5mcm9tQmxvY2tcclxuXHJcbi8vIEtvbnN0YW50YSB1bnR1ayBiYXRhc2FuIFJQQ1xyXG5jb25zdCBNQVhfQkxPQ0tTX1BFUl9RVUVSWSA9IEJpZ0ludCgxMDApXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hOZXdTd2FwRXZlbnRzKCk6IFByb21pc2U8e1xyXG4gIHN3YXBFdmVudHM6IFN3YXBFdmVudFtdO1xyXG4gIG5ld1N3YXBzQ291bnQ6IG51bWJlcjtcclxufT4ge1xyXG4gIGNvbnN0IGFsbFN3YXBFdmVudHM6IFN3YXBFdmVudFtdID0gW11cclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3QgY3VycmVudEJsb2NrID0gYXdhaXQgY2xpZW50LmdldEJsb2NrTnVtYmVyKClcclxuICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IGJsb2NrOiAke2N1cnJlbnRCbG9ja30sIExhc3QgcHJvY2Vzc2VkIEppa3VuYVN3YXA6ICR7bGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcH0sIExhc3QgcHJvY2Vzc2VkIEppa3VuYVN3YXBFVEg6ICR7bGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcEVUSH1gKVxyXG4gICAgXHJcbiAgICAvLyBKaWthIGluaSBhZGFsYWggcGVydGFtYSBrYWxpIGthbWkgbWVuamFsYW5rYW4sIGd1bmFrYW4gYmxvayBzYWF0IGluaSAtIDEwMDAgc2ViYWdhaSBhd2FsXHJcbiAgICAvLyB1bnR1ayBtZW5naGluZGFyaSBtZW1pbmRhaSB0ZXJsYWx1IGJhbnlhayBibG9rXHJcbiAgICBpZiAobGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcCA9PT0gQmlnSW50KDApKSB7XHJcbiAgICAgIGxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXAgPSBjdXJyZW50QmxvY2sgPiBCaWdJbnQoMTAwMCkgPyBjdXJyZW50QmxvY2sgLSBCaWdJbnQoMTAwMCkgOiBCaWdJbnQoMClcclxuICAgICAgY29uc29sZS5sb2coYEluaXRpYWxpemVkIGxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXAgdG8gJHtsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwfWApXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwRVRIID09PSBCaWdJbnQoMCkpIHtcclxuICAgICAgbGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcEVUSCA9IGN1cnJlbnRCbG9jayA+IEJpZ0ludCgxMDAwKSA/IGN1cnJlbnRCbG9jayAtIEJpZ0ludCgxMDAwKSA6IEJpZ0ludCgwKVxyXG4gICAgICBjb25zb2xlLmxvZyhgSW5pdGlhbGl6ZWQgbGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcEVUSCB0byAke2xhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBFVEh9YClcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2VrIGFwYWthaCBhZGEgbmlsYWkgZGFyaSByZXNldC1ibG9ja3MgZW5kcG9pbnQgeWFuZyB0ZXJzZWRpYVxyXG4gICAgaWYgKGdsb2JhbC5sYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwKSB7XHJcbiAgICAgIGxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXAgPSBnbG9iYWwubGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcFxyXG4gICAgICBsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwRVRIID0gZ2xvYmFsLmxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBFVEggfHwgZ2xvYmFsLmxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2V0IG5pbGFpIGdsb2JhbCBhZ2FyIGhhbnlhIGRpZ3VuYWthbiBzZWthbGlcclxuICAgICAgZ2xvYmFsLmxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXAgPSB1bmRlZmluZWRcclxuICAgICAgZ2xvYmFsLmxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBFVEggPSB1bmRlZmluZWRcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGBVc2luZyByZXNldCBibG9ja3MgLSBzY2FubmluZyBmcm9tICR7bGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcH1gKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBJTVBST1ZFRDogSW5jcmVhc2Ugc2FmZXR5IG92ZXJsYXAgdG8gZW5zdXJlIHdlIGRvbid0IG1pc3MgYW55IHRyYW5zYWN0aW9uc1xyXG4gICAgLy8gRXNwZWNpYWxseSBpbXBvcnRhbnQgZm9yIGhpZ2gtdm9sdW1lIHBlcmlvZHMgb3IgbmV0d29yayBpc3N1ZXNcclxuICAgIGNvbnN0IHNhZmV0eU92ZXJsYXAgPSBCaWdJbnQoNTAwKVxyXG4gICAgY29uc3Qgc2NhbkZyb21KaWt1bmFTd2FwID0gbGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcCA+IHNhZmV0eU92ZXJsYXAgXHJcbiAgICAgID8gbGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcCAtIHNhZmV0eU92ZXJsYXAgXHJcbiAgICAgIDogbGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcFxyXG4gICAgXHJcbiAgICBjb25zdCBzY2FuRnJvbUppa3VuYVN3YXBFVEggPSBsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwRVRIID4gc2FmZXR5T3ZlcmxhcCBcclxuICAgICAgPyBsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwRVRIIC0gc2FmZXR5T3ZlcmxhcCBcclxuICAgICAgOiBsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwRVRIXHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBBZGRpbmcgbGFyZ2VyIHNhZmV0eSBvdmVybGFwOiBzY2FubmluZyBKaWt1bmFTd2FwIGZyb20gJHtzY2FuRnJvbUppa3VuYVN3YXB9LCBKaWt1bmFTd2FwRVRIIGZyb20gJHtzY2FuRnJvbUppa3VuYVN3YXBFVEh9YClcclxuICAgIFxyXG4gICAgLy8gRklYRUQ6IFJlZHVjZSBiYXRjaCBzaXplIHRvIGF2b2lkIGFueSBwb3RlbnRpYWwgUlBDIGxpbWl0c1xyXG4gICAgY29uc3Qgb3JpZ2luYWxNYXhCbG9ja3NQZXJRdWVyeSA9IE1BWF9CTE9DS1NfUEVSX1FVRVJZO1xyXG4gICAgY29uc3QgcmVkdWNlZE1heEJsb2Nrc1BlclF1ZXJ5ID0gQmlnSW50KDUwKTtcclxuICAgIGNvbnNvbGUubG9nKGBVc2luZyBzbWFsbGVyIGJhdGNoIHNpemU6ICR7cmVkdWNlZE1heEJsb2Nrc1BlclF1ZXJ5fSBibG9ja3MgcGVyIHF1ZXJ5IGluc3RlYWQgb2YgJHtvcmlnaW5hbE1heEJsb2Nrc1BlclF1ZXJ5fWApO1xyXG4gICAgXHJcbiAgICAvLyBGZXRjaCBKaWt1bmFTd2FwIGV2ZW50cyAoRVJDMjAtRVJDMjApIGluIGJhdGNoZXMgd2l0aCByZWR1Y2VkIGJhdGNoIHNpemVcclxuICAgIGNvbnN0IHN3YXBFdmVudHMgPSBhd2FpdCBmZXRjaEppa3VuYVN3YXBFdmVudHNCYXRjaGVkKHNjYW5Gcm9tSmlrdW5hU3dhcCwgY3VycmVudEJsb2NrLCByZWR1Y2VkTWF4QmxvY2tzUGVyUXVlcnkpXHJcbiAgICBhbGxTd2FwRXZlbnRzLnB1c2goLi4uc3dhcEV2ZW50cylcclxuICAgIGNvbnNvbGUubG9nKGBUb3RhbCBFUkMyMC1FUkMyMCBzd2FwIGV2ZW50cyBmZXRjaGVkOiAke3N3YXBFdmVudHMubGVuZ3RofWApXHJcbiAgICBcclxuICAgIC8vIEZldGNoIEppa3VuYVN3YXBFVEggZXZlbnRzIChFUkMyMC1NT04pIGluIGJhdGNoZXMgd2l0aCByZWR1Y2VkIGJhdGNoIHNpemVcclxuICAgIGNvbnN0IHN3YXBFVEhFdmVudHMgPSBhd2FpdCBmZXRjaEppa3VuYVN3YXBFVEhFdmVudHNCYXRjaGVkKHNjYW5Gcm9tSmlrdW5hU3dhcEVUSCwgY3VycmVudEJsb2NrLCByZWR1Y2VkTWF4QmxvY2tzUGVyUXVlcnkpXHJcbiAgICBhbGxTd2FwRXZlbnRzLnB1c2goLi4uc3dhcEVUSEV2ZW50cylcclxuICAgIGNvbnNvbGUubG9nKGBUb3RhbCBFVEgtRVJDMjAgc3dhcCBldmVudHMgZmV0Y2hlZDogJHtzd2FwRVRIRXZlbnRzLmxlbmd0aH1gKVxyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgbGFzdCBwcm9jZXNzZWQgYmxvY2tzXHJcbiAgICBsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwID0gY3VycmVudEJsb2NrXHJcbiAgICBsYXN0UHJvY2Vzc2VkQmxvY2tKaWt1bmFTd2FwRVRIID0gY3VycmVudEJsb2NrXHJcbiAgICBcclxuICAgIC8vIFNhdmUgYWxsIGV2ZW50cyB0byBkYXRhYmFzZVxyXG4gICAgaWYgKGFsbFN3YXBFdmVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhgU2F2aW5nICR7YWxsU3dhcEV2ZW50cy5sZW5ndGh9IG5ldyBzd2FwIGV2ZW50cyB0byBkYXRhYmFzZWApXHJcbiAgICAgIGF3YWl0IHNhdmVTd2FwRXZlbnRzKGFsbFN3YXBFdmVudHMpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN3YXBFdmVudHM6IGFsbFN3YXBFdmVudHMsXHJcbiAgICAgIG5ld1N3YXBzQ291bnQ6IGFsbFN3YXBFdmVudHMubGVuZ3RoXHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHN3YXAgZXZlbnRzOicsIGVycm9yKVxyXG4gICAgdGhyb3cgZXJyb3JcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoSmlrdW5hU3dhcEV2ZW50c0JhdGNoZWQoXHJcbiAgZnJvbUJsb2NrOiBiaWdpbnQsIFxyXG4gIHRvQmxvY2s6IGJpZ2ludCxcclxuICBiYXRjaFNpemU6IGJpZ2ludCA9IE1BWF9CTE9DS1NfUEVSX1FVRVJZXHJcbik6IFByb21pc2U8U3dhcEV2ZW50W10+IHtcclxuICBjb25zdCBhbGxFdmVudHM6IFN3YXBFdmVudFtdID0gW11cclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gUHJvc2VzIGRhbGFtIGJhdGNoIGthcmVuYSBSUEMgbWVtaWxpa2kgYmF0YXNhbiAxMDAgYmxvayBwZXIgcGVybWludGFhblxyXG4gICAgbGV0IHN0YXJ0QmxvY2sgPSBmcm9tQmxvY2tcclxuICAgIFxyXG4gICAgd2hpbGUgKHN0YXJ0QmxvY2sgPD0gdG9CbG9jaykge1xyXG4gICAgICBjb25zdCBlbmRCbG9jayA9IHN0YXJ0QmxvY2sgKyBiYXRjaFNpemUgPiB0b0Jsb2NrID8gdG9CbG9jayA6IHN0YXJ0QmxvY2sgKyBiYXRjaFNpemVcclxuICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nIEppa3VuYVN3YXAgZXZlbnRzIGZyb20gYmxvY2sgJHtzdGFydEJsb2NrfSB0byAke2VuZEJsb2NrfWApXHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGF3YWl0IGZldGNoSmlrdW5hU3dhcEV2ZW50cyhzdGFydEJsb2NrLCBlbmRCbG9jaylcclxuICAgICAgICBhbGxFdmVudHMucHVzaCguLi5ldmVudHMpXHJcbiAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7ZXZlbnRzLmxlbmd0aH0gSmlrdW5hU3dhcCBldmVudHMgaW4gYmF0Y2ggJHtzdGFydEJsb2NrfS0ke2VuZEJsb2NrfWApXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgSmlrdW5hU3dhcCBldmVudHMgZm9yIGJsb2NrcyAke3N0YXJ0QmxvY2t9LSR7ZW5kQmxvY2t9OmAsIGVycm9yKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBzdGFydEJsb2NrID0gZW5kQmxvY2sgKyBCaWdJbnQoMSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGFsbEV2ZW50c1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBiYXRjaCBwcm9jZXNzaW5nIEppa3VuYVN3YXAgZXZlbnRzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIGFsbEV2ZW50c1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hKaWt1bmFTd2FwRVRIRXZlbnRzQmF0Y2hlZChcclxuICBmcm9tQmxvY2s6IGJpZ2ludCwgXHJcbiAgdG9CbG9jazogYmlnaW50LFxyXG4gIGJhdGNoU2l6ZTogYmlnaW50ID0gTUFYX0JMT0NLU19QRVJfUVVFUllcclxuKTogUHJvbWlzZTxTd2FwRXZlbnRbXT4ge1xyXG4gIGNvbnN0IGFsbEV2ZW50czogU3dhcEV2ZW50W10gPSBbXVxyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBQcm9zZXMgZGFsYW0gYmF0Y2gga2FyZW5hIFJQQyBtZW1pbGlraSBiYXRhc2FuIDEwMCBibG9rIHBlciBwZXJtaW50YWFuXHJcbiAgICBsZXQgc3RhcnRCbG9jayA9IGZyb21CbG9ja1xyXG4gICAgXHJcbiAgICB3aGlsZSAoc3RhcnRCbG9jayA8PSB0b0Jsb2NrKSB7XHJcbiAgICAgIGNvbnN0IGVuZEJsb2NrID0gc3RhcnRCbG9jayArIGJhdGNoU2l6ZSA+IHRvQmxvY2sgPyB0b0Jsb2NrIDogc3RhcnRCbG9jayArIGJhdGNoU2l6ZVxyXG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgSmlrdW5hU3dhcEVUSCBldmVudHMgZnJvbSBibG9jayAke3N0YXJ0QmxvY2t9IHRvICR7ZW5kQmxvY2t9YClcclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gYXdhaXQgZmV0Y2hKaWt1bmFTd2FwRVRIRXZlbnRzKHN0YXJ0QmxvY2ssIGVuZEJsb2NrKVxyXG4gICAgICAgIGFsbEV2ZW50cy5wdXNoKC4uLmV2ZW50cylcclxuICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtldmVudHMubGVuZ3RofSBKaWt1bmFTd2FwRVRIIGV2ZW50cyBpbiBiYXRjaCAke3N0YXJ0QmxvY2t9LSR7ZW5kQmxvY2t9YClcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBKaWt1bmFTd2FwRVRIIGV2ZW50cyBmb3IgYmxvY2tzICR7c3RhcnRCbG9ja30tJHtlbmRCbG9ja306YCwgZXJyb3IpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHN0YXJ0QmxvY2sgPSBlbmRCbG9jayArIEJpZ0ludCgxKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gYWxsRXZlbnRzXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGJhdGNoIHByb2Nlc3NpbmcgSmlrdW5hU3dhcEVUSCBldmVudHM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gYWxsRXZlbnRzXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaEppa3VuYVN3YXBFdmVudHMoZnJvbUJsb2NrOiBiaWdpbnQsIHRvQmxvY2s6IGJpZ2ludCk6IFByb21pc2U8U3dhcEV2ZW50W10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYEZldGNoaW5nIFN3YXAgZXZlbnRzIGZyb20gSmlrdW5hU3dhcCBjb250cmFjdCAke2NvbnRyYWN0cy5qaWt1bmFTd2FwLmFkZHJlc3N9IGZvciBibG9ja3MgJHtmcm9tQmxvY2t9LSR7dG9CbG9ja31gKVxyXG4gICAgXHJcbiAgICAvLyBDb2JhIGZldGNoIHRyYW5zYWtzaSBkZW5nYW4gYmVyYmFnYWkgcGVuZGVrYXRhbiB1bnR1ayBtZW1hc3Rpa2FuIHRpZGFrIGFkYSB5YW5nIHRlcmxld2F0XHJcbiAgICBsZXQgbG9nczogTG9nW10gPSBbXTtcclxuICAgIFxyXG4gICAgLy8gSU1QUk9WRUQ6IE1vcmUgdmVyYm9zZSBsb2cgZGVidWdnaW5nXHJcbiAgICBjb25zb2xlLmxvZyhgQ29udHJhY3QgYWRkcmVzczogJHtjb250cmFjdHMuamlrdW5hU3dhcC5hZGRyZXNzfWApO1xyXG4gICAgY29uc29sZS5sb2coYEV2ZW50IHNpZ25hdHVyZTogJHtTV0FQX0VWRU5UX1NJR05BVFVSRX1gKTtcclxuICAgIFxyXG4gICAgLy8gTWV0b2RlIDE6IENvYmEgZGVuZ2FuIGV2ZW50IGZpbHRlciBzdGFuZGFyZFxyXG4gICAgdHJ5IHtcclxuICAgICAgbG9ncyA9IGF3YWl0IGNsaWVudC5nZXRMb2dzKHtcclxuICAgICAgICBhZGRyZXNzOiBjb250cmFjdHMuamlrdW5hU3dhcC5hZGRyZXNzIGFzIGAweCR7c3RyaW5nfWAsXHJcbiAgICAgICAgZXZlbnQ6IHN3YXBFdmVudEFiaSxcclxuICAgICAgICBmcm9tQmxvY2ssXHJcbiAgICAgICAgdG9CbG9jayxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2xvZ3MubGVuZ3RofSBsb2dzIHdpdGggc3RhbmRhcmQgZXZlbnQgZmlsdGVyIG1ldGhvZCBmcm9tIEppa3VuYVN3YXAgY29udHJhY3RgKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBzdGFuZGFyZCBldmVudCBmaWx0ZXIgbWV0aG9kLCB3aWxsIHRyeSBhbHRlcm5hdGl2ZXM6JywgZXJyb3IpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEppa2EgbWV0b2RlIDEgZ2FnYWwgYXRhdSB0aWRhayBtZW5lbXVrYW4gbG9nXHJcbiAgICBpZiAobG9ncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIGFsdGVybmF0aXZlIG1ldGhvZCAxOiBmaWx0ZXIgYnkgYWRkcmVzcyBvbmx5JylcclxuICAgICAgICBjb25zdCBhbGxMb2dzID0gYXdhaXQgY2xpZW50LmdldExvZ3Moe1xyXG4gICAgICAgICAgYWRkcmVzczogY29udHJhY3RzLmppa3VuYVN3YXAuYWRkcmVzcyBhcyBgMHgke3N0cmluZ31gLFxyXG4gICAgICAgICAgZnJvbUJsb2NrLFxyXG4gICAgICAgICAgdG9CbG9jayxcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHthbGxMb2dzLmxlbmd0aH0gbG9ncyBmb3IgY29udHJhY3QgYWRkcmVzcywgZmlsdGVyaW5nIGJ5IGV2ZW50IHNpZ25hdHVyZWApXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmlsdGVyIGxvZ3Mgc2VjYXJhIG1hbnVhbCBkZW5nYW4gdG9waWMgc2lnbmF0dXJlIHlhbmcgYmVuYXJcclxuICAgICAgICBsb2dzID0gYWxsTG9ncy5maWx0ZXIobG9nID0+IFxyXG4gICAgICAgICAgbG9nLnRvcGljcyAmJiBcclxuICAgICAgICAgIGxvZy50b3BpY3MubGVuZ3RoID4gMCAmJiBcclxuICAgICAgICAgIGxvZy50b3BpY3NbMF0/LnRvTG93ZXJDYXNlKCkgPT09IFNXQVBfRVZFTlRfU0lHTkFUVVJFLnRvTG93ZXJDYXNlKClcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBBZnRlciBmaWx0ZXJpbmc6ICR7bG9ncy5sZW5ndGh9IGxvZ3MgbWF0Y2ggdGhlIFN3YXAgZXZlbnQgc2lnbmF0dXJlYClcclxuICAgICAgfSBjYXRjaCAoYWx0RXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBsb2dzIHdpdGggYWx0ZXJuYXRpdmUgbWV0aG9kIDE6JywgYWx0RXJyb3IpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0b2RlIDM6IEppa2Egc2VtdWEgZ2FnYWwsIGNvYmEgY2FyYSBwYWxpbmcgZGFzYXIgZGVuZ2FuIGZpbHRlciB0ZXJiYXRhc1xyXG4gICAgaWYgKGxvZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1RyeWluZyBhbHRlcm5hdGl2ZSBtZXRob2QgMjogZGlyZWN0IHRyYW5zYWN0aW9uIGZldGNoJylcclxuICAgICAgICBcclxuICAgICAgICAvLyBNZW5kYXBhdGthbiBzZW11YSBsb2dzIHRhbnBhIGZpbHRlciBhZGRyZXNzXHJcbiAgICAgICAgY29uc3QgcmF3TG9ncyA9IGF3YWl0IGNsaWVudC5nZXRMb2dzKHtcclxuICAgICAgICAgIGZyb21CbG9jayxcclxuICAgICAgICAgIHRvQmxvY2ssXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYFJldHJpZXZlZCAke3Jhd0xvZ3MubGVuZ3RofSByYXcgbG9ncyBmcm9tIGFsbCBhZGRyZXNzZXNgKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpbHRlciBtYW51YWwgYmVyZGFzYXJrYW4gYWRkcmVzcyBkYW4gdG9waWNcclxuICAgICAgICBsb2dzID0gcmF3TG9ncy5maWx0ZXIobG9nID0+IFxyXG4gICAgICAgICAgbG9nLmFkZHJlc3MgJiYgXHJcbiAgICAgICAgICBsb2cuYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBjb250cmFjdHMuamlrdW5hU3dhcC5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgJiZcclxuICAgICAgICAgIGxvZy50b3BpY3MgJiYgXHJcbiAgICAgICAgICBsb2cudG9waWNzLmxlbmd0aCA+IDAgJiYgXHJcbiAgICAgICAgICBsb2cudG9waWNzWzBdPy50b0xvd2VyQ2FzZSgpID09PSBTV0FQX0VWRU5UX1NJR05BVFVSRS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgQWZ0ZXIgZG91YmxlIGZpbHRlcmluZzogJHtsb2dzLmxlbmd0aH0gbG9ncyBtYXRjaCB0aGUgU3dhcCBldmVudCBjcml0ZXJpYWApXHJcbiAgICAgIH0gY2F0Y2ggKGVtZXJnZW5jeUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRW1lcmdlbmN5IG1ldGhvZCBmYWlsZWQ6JywgZW1lcmdlbmN5RXJyb3IpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYFRvdGFsICR7bG9ncy5sZW5ndGh9IHJhdyBsb2dzIGZvdW5kIGZyb20gSmlrdW5hU3dhcCBjb250cmFjdGApXHJcbiAgICBcclxuICAgIC8vIElNUFJPVkVEOiBBZGQgYWxsIHRyYW5zYWN0aW9uIGhhc2hlcyB0byBkZWJ1ZyBsb2dcclxuICAgIGlmIChsb2dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIGhhc2hlcyBpbiB0aGVzZSBsb2dzOicpO1xyXG4gICAgICBmb3IgKGNvbnN0IGxvZyBvZiBsb2dzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCAgLSAke2xvZy50cmFuc2FjdGlvbkhhc2h9LCBibG9jazogJHtsb2cuYmxvY2tOdW1iZXJ9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3Qgc3dhcEV2ZW50czogU3dhcEV2ZW50W10gPSBbXVxyXG4gICAgXHJcbiAgICBmb3IgKGNvbnN0IGxvZyBvZiBsb2dzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFxcblByb2Nlc3NpbmcgbG9nOiAke0pTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGJsb2NrTnVtYmVyOiBsb2cuYmxvY2tOdW1iZXIsXHJcbiAgICAgICAgICB0eEhhc2g6IGxvZy50cmFuc2FjdGlvbkhhc2gsXHJcbiAgICAgICAgICBhZGRyZXNzOiBsb2cuYWRkcmVzcyxcclxuICAgICAgICAgIHRvcGljczogbG9nLnRvcGljcy5tYXAodCA9PiB0Py50b1N0cmluZygpKVxyXG4gICAgICAgIH0pfWApXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQmFzaWMgdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbG9nLnRyYW5zYWN0aW9uSGFzaCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFNraXBwaW5nIGxvZyB3aXRoIG1pc3NpbmcgdHJhbnNhY3Rpb24gaGFzaGApO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlJ3ZlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgdHJhbnNhY3Rpb25cclxuICAgICAgICBjb25zdCBleGlzdGluZ0V2ZW50ID0gYXdhaXQgZ2V0U3dhcEV2ZW50QnlUeEhhc2gobG9nLnRyYW5zYWN0aW9uSGFzaCBhcyBzdHJpbmcpXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nRXZlbnQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBTa2lwcGluZyBhbHJlYWR5IHByb2Nlc3NlZCB0eDogJHtsb2cudHJhbnNhY3Rpb25IYXNofWApXHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBJTVBST1ZFRDogQmV0dGVyIGV4dHJhY3Rpb24gb2YgaW5kZXhlZCBwYXJhbWV0ZXJzXHJcbiAgICAgICAgLy8gRXh0cmFjdCBzZW5kZXIgZnJvbSB0b3BpYyAxXHJcbiAgICAgICAgY29uc3Qgc2VuZGVyID0gbG9nLnRvcGljc1sxXSBcclxuICAgICAgICAgID8gKGAweCR7bG9nLnRvcGljc1sxXS5zdWJzdHJpbmcobG9nLnRvcGljc1sxXS5sZW5ndGggLSA0MCl9YCBhcyBgMHgke3N0cmluZ31gKSBcclxuICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEV4dHJhY3QgdG8gYWRkcmVzcyBmcm9tIHRvcGljIDJcclxuICAgICAgICBjb25zdCB0byA9IGxvZy50b3BpY3NbMl0gXHJcbiAgICAgICAgICA/IChgMHgke2xvZy50b3BpY3NbMl0uc3Vic3RyaW5nKGxvZy50b3BpY3NbMl0ubGVuZ3RoIC0gNDApfWAgYXMgYDB4JHtzdHJpbmd9YCkgXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFeHRyYWN0IHRva2VuSW4gZnJvbSB0b3BpYyAzXHJcbiAgICAgICAgY29uc3QgdG9rZW5JbiA9IGxvZy50b3BpY3NbM10gXHJcbiAgICAgICAgICA/IChgMHgke2xvZy50b3BpY3NbM10uc3Vic3RyaW5nKGxvZy50b3BpY3NbM10ubGVuZ3RoIC0gNDApfWAgYXMgYDB4JHtzdHJpbmd9YCkgXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFeHRyYWN0IHRva2VuT3V0IGZyb20gdG9waWMgNFxyXG4gICAgICAgIGNvbnN0IHRva2VuT3V0ID0gbG9nLnRvcGljcy5sZW5ndGggPiA0ICYmIGxvZy50b3BpY3NbNF0gXHJcbiAgICAgICAgICA/IChgMHgke2xvZy50b3BpY3NbNF0uc3Vic3RyaW5nKGxvZy50b3BpY3NbNF0ubGVuZ3RoIC0gNDApfWAgYXMgYDB4JHtzdHJpbmd9YCkgXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgRXh0cmFjdGVkIHBhcmFtZXRlcnM6IHNlbmRlcj0ke3NlbmRlcn0sIHRvPSR7dG99LCB0b2tlbkluPSR7dG9rZW5Jbn0sIHRva2VuT3V0PSR7dG9rZW5PdXR9YCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICBpZiAoIXNlbmRlcikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFNraXBwaW5nIGxvZyBkdWUgdG8gbWlzc2luZyBzZW5kZXIgYWRkcmVzc2ApXHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBEZWZhdWx0IHZhbHVlcyBpZiB3ZSBjYW4ndCBleHRyYWN0IHByb3Blcmx5XHJcbiAgICAgICAgLy8gTm90IGlkZWFsIGJ1dCBhbGxvd3MgcHJvY2Vzc2luZyB0byBjb250aW51ZVxyXG4gICAgICAgIGNvbnN0IHVzZWRUb2tlbkluID0gdG9rZW5JbiB8fCBjb250cmFjdHMuamlrdW5hU3dhcC5hZGRyZXNzO1xyXG4gICAgICAgIGNvbnN0IHVzZWRUb2tlbk91dCA9IHRva2VuT3V0IHx8IE5BVElWRV9UT0tFTl9BRERSRVNTO1xyXG5cclxuICAgICAgICAvLyBEZWZhdWx0IHZhbHVlcyBmb3Igbm9uLWluZGV4ZWQgcGFyYW1zIC0gd2UnbGwgdHJ5IHRvIGRlY29kZSB0aGVzZSBmcm9tIGRhdGFcclxuICAgICAgICBsZXQgYW1vdW50MEluID0gQmlnSW50KDApXHJcbiAgICAgICAgbGV0IGFtb3VudDFJbiA9IEJpZ0ludCgwKVxyXG4gICAgICAgIGxldCBhbW91bnQwT3V0ID0gQmlnSW50KDApXHJcbiAgICAgICAgbGV0IGFtb3VudDFPdXQgPSBCaWdJbnQoMClcclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgdG8gcGFyc2Ugbm9uLWluZGV4ZWQgdmFsdWVzIGZyb20gZGF0YSBpZiBhdmFpbGFibGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKGxvZy5kYXRhICYmIGxvZy5kYXRhICE9PSAnMHgnKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbXBsaWZpZWQgcGFyc2luZyAtIGluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91IHdvdWxkIG5lZWQgcHJvcGVyIEFCSSBkZWNvZGluZ1xyXG4gICAgICAgICAgICAvLyBIZXJlIHdlJ3JlIGp1c3QgYXNzdW1pbmcgdGhlIGRhdGEgZm9ybWF0IG1hdGNoZXMgd2hhdCB3ZSBleHBlY3RcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGxvZy5kYXRhLnNsaWNlKDIpOyAvLyByZW1vdmUgJzB4J1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPj0gMjU2KSB7IC8vIDQgdWludDI1NiB2YWx1ZXMgKDY0IGhleCBjaGFycyBlYWNoKVxyXG4gICAgICAgICAgICAgIC8vIFBhcnNlIDQgdWludDI1NiB2YWx1ZXNcclxuICAgICAgICAgICAgICBhbW91bnQwSW4gPSBCaWdJbnQoJzB4JyArIGRhdGEuc2xpY2UoMCwgNjQpKTtcclxuICAgICAgICAgICAgICBhbW91bnQxSW4gPSBCaWdJbnQoJzB4JyArIGRhdGEuc2xpY2UoNjQsIDEyOCkpO1xyXG4gICAgICAgICAgICAgIGFtb3VudDBPdXQgPSBCaWdJbnQoJzB4JyArIGRhdGEuc2xpY2UoMTI4LCAxOTIpKTtcclxuICAgICAgICAgICAgICBhbW91bnQxT3V0ID0gQmlnSW50KCcweCcgKyBkYXRhLnNsaWNlKDE5MiwgMjU2KSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFBhcnNlZCBhbW91bnRzOiBhbW91bnQwSW49JHthbW91bnQwSW59LCBhbW91bnQxSW49JHthbW91bnQxSW59LCBhbW91bnQwT3V0PSR7YW1vdW50ME91dH0sIGFtb3VudDFPdXQ9JHthbW91bnQxT3V0fWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZGVjb2RlRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlY29kaW5nIGRhdGE6JywgZGVjb2RlRXJyb3IpO1xyXG4gICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGRlZmF1bHQgdmFsdWVzXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgZGVmYXVsdCB2YWx1ZXMgZHVlIHRvIGRlY29kZSBlcnJvcicpO1xyXG4gICAgICAgICAgYW1vdW50MEluID0gQmlnSW50KCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7IC8vIDEgdG9rZW4gYXMgZmFsbGJhY2tcclxuICAgICAgICAgIGFtb3VudDFJbiA9IEJpZ0ludCgwKTtcclxuICAgICAgICAgIGFtb3VudDBPdXQgPSBCaWdJbnQoMCk7XHJcbiAgICAgICAgICBhbW91bnQxT3V0ID0gQmlnSW50KCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7IC8vIDEgdG9rZW4gYXMgZmFsbGJhY2tcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGFtb3VudHMgYmFzZWQgb24gd2hpY2ggdG9rZW4gaXMgaW4gdnMgb3V0XHJcbiAgICAgICAgY29uc3QgYW1vdW50SW4gPSBhbW91bnQwSW4gPiAwID8gYW1vdW50MEluIDogYW1vdW50MUluXHJcbiAgICAgICAgY29uc3QgYW1vdW50T3V0ID0gYW1vdW50ME91dCA+IDAgPyBhbW91bnQwT3V0IDogYW1vdW50MU91dFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVzZSBkZWZhdWx0IGlmIGJvdGggYXJlIHplcm8gKHVubGlrZWx5IGJ1dCBwb3NzaWJsZSBkdWUgdG8gcGFyc2luZyBpc3N1ZXMpXHJcbiAgICAgICAgY29uc3QgZmluYWxBbW91bnRJbiA9IGFtb3VudEluID4gMCA/IGFtb3VudEluIDogQmlnSW50KCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7XHJcbiAgICAgICAgY29uc3QgZmluYWxBbW91bnRPdXQgPSBhbW91bnRPdXQgPiAwID8gYW1vdW50T3V0IDogQmlnSW50KCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHZvbHVtZSBpbiBNT04gKHNpbXBsaWZpZWQgYXBwcm9hY2gpXHJcbiAgICAgICAgbGV0IHZvbHVtZU1PTiA9IDEwIC8vIERlZmF1bHQgZXhhbXBsZSB2YWx1ZVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIGVpdGhlciB0b2tlbiBpcyBNT04gb3IgV01PTiwgdXNlIHRoYXQgYW1vdW50IGRpcmVjdGx5XHJcbiAgICAgICAgaWYgKHVzZWRUb2tlbkluLnRvTG93ZXJDYXNlKCkgPT09IE5BVElWRV9UT0tFTl9BRERSRVNTLnRvTG93ZXJDYXNlKCkgfHwgXHJcbiAgICAgICAgICAgIHVzZWRUb2tlbkluLnRvTG93ZXJDYXNlKCkgPT09IGNvbnRyYWN0cy5qaWt1bmFTd2FwRVRILmFkZHJlc3MudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgdm9sdW1lTU9OID0gTnVtYmVyKGZvcm1hdEV0aGVyKGZpbmFsQW1vdW50SW4pKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodXNlZFRva2VuT3V0LnRvTG93ZXJDYXNlKCkgPT09IE5BVElWRV9UT0tFTl9BRERSRVNTLnRvTG93ZXJDYXNlKCkgfHwgXHJcbiAgICAgICAgICAgICAgICAgIHVzZWRUb2tlbk91dC50b0xvd2VyQ2FzZSgpID09PSBjb250cmFjdHMuamlrdW5hU3dhcEVUSC5hZGRyZXNzLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgIHZvbHVtZU1PTiA9IE51bWJlcihmb3JtYXRFdGhlcihmaW5hbEFtb3VudE91dCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBKWFAgKDEgSlhQIHBlciAxMCBNT04gdm9sdW1lKVxyXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRKWFAgPSBNYXRoLmZsb29yKHZvbHVtZU1PTiAvIDEwKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHN3YXBFdmVudDogU3dhcEV2ZW50ID0ge1xyXG4gICAgICAgICAgdXNlcjogc2VuZGVyLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgdHhIYXNoOiBsb2cudHJhbnNhY3Rpb25IYXNoIGFzIHN0cmluZyxcclxuICAgICAgICAgIHRva2VuSW46IHVzZWRUb2tlbkluLFxyXG4gICAgICAgICAgdG9rZW5PdXQ6IHVzZWRUb2tlbk91dCxcclxuICAgICAgICAgIGFtb3VudEluOiBmaW5hbEFtb3VudEluLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICBhbW91bnRPdXQ6IGZpbmFsQW1vdW50T3V0LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICB2b2x1bWVNT04sXHJcbiAgICAgICAgICBjYWxjdWxhdGVkSlhQLFxyXG4gICAgICAgICAgcHJvY2Vzc2VkOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgc3dhcCBldmVudDogJHtKU09OLnN0cmluZ2lmeShzd2FwRXZlbnQpfWApXHJcbiAgICAgICAgc3dhcEV2ZW50cy5wdXNoKHN3YXBFdmVudClcclxuICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGluZGl2aWR1YWwgbG9nOiAke2xvZ0Vycm9yfWApXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHN3YXBFdmVudHNcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgSmlrdW5hU3dhcCBldmVudHM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gW11cclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoSmlrdW5hU3dhcEVUSEV2ZW50cyhmcm9tQmxvY2s6IGJpZ2ludCwgdG9CbG9jazogYmlnaW50KTogUHJvbWlzZTxTd2FwRXZlbnRbXT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgU3dhcEVUSCBldmVudHMgZnJvbSBKaWt1bmFTd2FwRVRIIGNvbnRyYWN0ICR7Y29udHJhY3RzLmppa3VuYVN3YXBFVEguYWRkcmVzc30gZm9yIGJsb2NrcyAke2Zyb21CbG9ja30tJHt0b0Jsb2NrfWApXHJcbiAgICBcclxuICAgIC8vIENvYmEgZmV0Y2ggdHJhbnNha3NpIGRlbmdhbiBiZXJiYWdhaSBwZW5kZWthdGFuIHVudHVrIG1lbWFzdGlrYW4gdGlkYWsgYWRhIHlhbmcgdGVybGV3YXRcclxuICAgIGxldCBsb2dzOiBMb2dbXSA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBJTVBST1ZFRDogTW9yZSB2ZXJib3NlIGxvZyBkZWJ1Z2dpbmdcclxuICAgIGNvbnNvbGUubG9nKGBDb250cmFjdCBhZGRyZXNzOiAke2NvbnRyYWN0cy5qaWt1bmFTd2FwRVRILmFkZHJlc3N9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhgRXZlbnQgc2lnbmF0dXJlOiAke1NXQVBfRVRIX0VWRU5UX1NJR05BVFVSRX1gKTtcclxuICAgIFxyXG4gICAgLy8gTWV0b2RlIDE6IENvYmEgZGVuZ2FuIGV2ZW50IGZpbHRlciBzdGFuZGFyZFxyXG4gICAgdHJ5IHtcclxuICAgICAgbG9ncyA9IGF3YWl0IGNsaWVudC5nZXRMb2dzKHtcclxuICAgICAgICBhZGRyZXNzOiBjb250cmFjdHMuamlrdW5hU3dhcEVUSC5hZGRyZXNzIGFzIGAweCR7c3RyaW5nfWAsXHJcbiAgICAgICAgZXZlbnQ6IHN3YXBFVEhFdmVudEFiaSxcclxuICAgICAgICBmcm9tQmxvY2ssXHJcbiAgICAgICAgdG9CbG9jayxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2xvZ3MubGVuZ3RofSBsb2dzIHdpdGggc3RhbmRhcmQgZXZlbnQgZmlsdGVyIG1ldGhvZCBmcm9tIEppa3VuYVN3YXBFVEggY29udHJhY3RgKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBzdGFuZGFyZCBldmVudCBmaWx0ZXIgbWV0aG9kIGZvciBFVEggc3dhcCwgd2lsbCB0cnkgYWx0ZXJuYXRpdmVzOicsIGVycm9yKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBKaWthIG1ldG9kZSAxIGdhZ2FsIGF0YXUgdGlkYWsgbWVuZW11a2FuIGxvZ1xyXG4gICAgaWYgKGxvZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1RyeWluZyBhbHRlcm5hdGl2ZSBtZXRob2QgMTogZmlsdGVyIGJ5IGFkZHJlc3Mgb25seScpXHJcbiAgICAgICAgY29uc3QgYWxsTG9ncyA9IGF3YWl0IGNsaWVudC5nZXRMb2dzKHtcclxuICAgICAgICAgIGFkZHJlc3M6IGNvbnRyYWN0cy5qaWt1bmFTd2FwRVRILmFkZHJlc3MgYXMgYDB4JHtzdHJpbmd9YCxcclxuICAgICAgICAgIGZyb21CbG9jayxcclxuICAgICAgICAgIHRvQmxvY2ssXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7YWxsTG9ncy5sZW5ndGh9IGxvZ3MgZm9yIGNvbnRyYWN0IGFkZHJlc3MsIGZpbHRlcmluZyBieSBldmVudCBzaWduYXR1cmVgKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpbHRlciBsb2dzIHNlY2FyYSBtYW51YWwgZGVuZ2FuIHRvcGljIHNpZ25hdHVyZSB5YW5nIGJlbmFyXHJcbiAgICAgICAgbG9ncyA9IGFsbExvZ3MuZmlsdGVyKGxvZyA9PiBcclxuICAgICAgICAgIGxvZy50b3BpY3MgJiYgXHJcbiAgICAgICAgICBsb2cudG9waWNzLmxlbmd0aCA+IDAgJiYgXHJcbiAgICAgICAgICBsb2cudG9waWNzWzBdPy50b0xvd2VyQ2FzZSgpID09PSBTV0FQX0VUSF9FVkVOVF9TSUdOQVRVUkUudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYEFmdGVyIGZpbHRlcmluZzogJHtsb2dzLmxlbmd0aH0gbG9ncyBtYXRjaCB0aGUgU3dhcEVUSCBldmVudCBzaWduYXR1cmVgKVxyXG4gICAgICB9IGNhdGNoIChhbHRFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGxvZ3Mgd2l0aCBhbHRlcm5hdGl2ZSBtZXRob2QgMTonLCBhbHRFcnJvcilcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZXRvZGUgMzogSmlrYSBzZW11YSBnYWdhbCwgY29iYSBjYXJhIHBhbGluZyBkYXNhciBkZW5nYW4gZmlsdGVyIHRlcmJhdGFzXHJcbiAgICBpZiAobG9ncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIGFsdGVybmF0aXZlIG1ldGhvZCAyOiBkaXJlY3QgdHJhbnNhY3Rpb24gZmV0Y2gnKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE1lbmRhcGF0a2FuIHNlbXVhIGxvZ3MgdGFucGEgZmlsdGVyIGFkZHJlc3NcclxuICAgICAgICBjb25zdCByYXdMb2dzID0gYXdhaXQgY2xpZW50LmdldExvZ3Moe1xyXG4gICAgICAgICAgZnJvbUJsb2NrLFxyXG4gICAgICAgICAgdG9CbG9jayxcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgUmV0cmlldmVkICR7cmF3TG9ncy5sZW5ndGh9IHJhdyBsb2dzIGZyb20gYWxsIGFkZHJlc3Nlc2ApXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmlsdGVyIG1hbnVhbCBiZXJkYXNhcmthbiBhZGRyZXNzIGRhbiB0b3BpY1xyXG4gICAgICAgIGxvZ3MgPSByYXdMb2dzLmZpbHRlcihsb2cgPT4gXHJcbiAgICAgICAgICBsb2cuYWRkcmVzcyAmJiBcclxuICAgICAgICAgIGxvZy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IGNvbnRyYWN0cy5qaWt1bmFTd2FwRVRILmFkZHJlc3MudG9Mb3dlckNhc2UoKSAmJlxyXG4gICAgICAgICAgbG9nLnRvcGljcyAmJiBcclxuICAgICAgICAgIGxvZy50b3BpY3MubGVuZ3RoID4gMCAmJiBcclxuICAgICAgICAgIGxvZy50b3BpY3NbMF0/LnRvTG93ZXJDYXNlKCkgPT09IFNXQVBfRVRIX0VWRU5UX1NJR05BVFVSRS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhgQWZ0ZXIgZG91YmxlIGZpbHRlcmluZzogJHtsb2dzLmxlbmd0aH0gbG9ncyBtYXRjaCB0aGUgU3dhcEVUSCBldmVudCBjcml0ZXJpYWApXHJcbiAgICAgIH0gY2F0Y2ggKGVtZXJnZW5jeUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRW1lcmdlbmN5IG1ldGhvZCBmYWlsZWQ6JywgZW1lcmdlbmN5RXJyb3IpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYFRvdGFsICR7bG9ncy5sZW5ndGh9IHJhdyBsb2dzIGZvdW5kIGZyb20gSmlrdW5hU3dhcEVUSCBjb250cmFjdGApXHJcbiAgICBcclxuICAgIC8vIElNUFJPVkVEOiBBZGQgYWxsIHRyYW5zYWN0aW9uIGhhc2hlcyB0byBkZWJ1ZyBsb2dcclxuICAgIGlmIChsb2dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coJ1RyYW5zYWN0aW9uIGhhc2hlcyBpbiB0aGVzZSBsb2dzOicpO1xyXG4gICAgICBmb3IgKGNvbnN0IGxvZyBvZiBsb2dzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCAgLSAke2xvZy50cmFuc2FjdGlvbkhhc2h9LCBibG9jazogJHtsb2cuYmxvY2tOdW1iZXJ9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3Qgc3dhcEV2ZW50czogU3dhcEV2ZW50W10gPSBbXVxyXG4gICAgXHJcbiAgICBmb3IgKGNvbnN0IGxvZyBvZiBsb2dzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFxcblByb2Nlc3NpbmcgRVRIIGxvZzogJHtKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBibG9ja051bWJlcjogbG9nLmJsb2NrTnVtYmVyLFxyXG4gICAgICAgICAgdHhIYXNoOiBsb2cudHJhbnNhY3Rpb25IYXNoLFxyXG4gICAgICAgICAgYWRkcmVzczogbG9nLmFkZHJlc3MsXHJcbiAgICAgICAgICB0b3BpY3M6IGxvZy50b3BpY3MubWFwKHQgPT4gdD8udG9TdHJpbmcoKSlcclxuICAgICAgICB9KX1gKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxvZy50cmFuc2FjdGlvbkhhc2gpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBTa2lwcGluZyBFVEggbG9nIHdpdGggbWlzc2luZyB0cmFuc2FjdGlvbiBoYXNoYCk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UndmUgYWxyZWFkeSBwcm9jZXNzZWQgdGhpcyB0cmFuc2FjdGlvblxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRXZlbnQgPSBhd2FpdCBnZXRTd2FwRXZlbnRCeVR4SGFzaChsb2cudHJhbnNhY3Rpb25IYXNoIGFzIHN0cmluZylcclxuICAgICAgICBpZiAoZXhpc3RpbmdFdmVudCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFNraXBwaW5nIGFscmVhZHkgcHJvY2Vzc2VkIEVUSCB0eDogJHtsb2cudHJhbnNhY3Rpb25IYXNofWApXHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBJTVBST1ZFRDogQmV0dGVyIGV4dHJhY3Rpb24gb2YgaW5kZXhlZCBwYXJhbWV0ZXJzXHJcbiAgICAgICAgLy8gRXh0cmFjdCBzZW5kZXIgZnJvbSB0b3BpYyAxXHJcbiAgICAgICAgY29uc3Qgc2VuZGVyID0gbG9nLnRvcGljc1sxXSBcclxuICAgICAgICAgID8gKGAweCR7bG9nLnRvcGljc1sxXS5zdWJzdHJpbmcobG9nLnRvcGljc1sxXS5sZW5ndGggLSA0MCl9YCBhcyBgMHgke3N0cmluZ31gKSBcclxuICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEV4dHJhY3QgdG8gYWRkcmVzcyBmcm9tIHRvcGljIDJcclxuICAgICAgICBjb25zdCB0byA9IGxvZy50b3BpY3NbMl0gXHJcbiAgICAgICAgICA/IChgMHgke2xvZy50b3BpY3NbMl0uc3Vic3RyaW5nKGxvZy50b3BpY3NbMl0ubGVuZ3RoIC0gNDApfWAgYXMgYDB4JHtzdHJpbmd9YCkgXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFeHRyYWN0IHRva2VuIGZyb20gdG9waWMgM1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gbG9nLnRvcGljc1szXSBcclxuICAgICAgICAgID8gKGAweCR7bG9nLnRvcGljc1szXS5zdWJzdHJpbmcobG9nLnRvcGljc1szXS5sZW5ndGggLSA0MCl9YCBhcyBgMHgke3N0cmluZ31gKSBcclxuICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFeHRyYWN0ZWQgcGFyYW1ldGVyczogc2VuZGVyPSR7c2VuZGVyfSwgdG89JHt0b30sIHRva2VuPSR7dG9rZW59YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzZW5kZXIpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBTa2lwcGluZyBFVEggbG9nIGR1ZSB0byBtaXNzaW5nIHNlbmRlciBhZGRyZXNzYClcclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERlZmF1bHQgdmFsdWVzIGlmIHdlIGNhbid0IGV4dHJhY3QgcHJvcGVybHlcclxuICAgICAgICBjb25zdCB1c2VkVG9rZW4gPSB0b2tlbiB8fCBjb250cmFjdHMuamlrdW5hU3dhcC5hZGRyZXNzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSBub24taW5kZXhlZCB2YWx1ZXMgZnJvbSBkYXRhXHJcbiAgICAgICAgbGV0IGV0aEFtb3VudCA9IEJpZ0ludCgwKVxyXG4gICAgICAgIGxldCB0b2tlbkFtb3VudCA9IEJpZ0ludCgwKVxyXG4gICAgICAgIGxldCBldGhUb1Rva2VuID0gZmFsc2VcclxuICAgICAgICBcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKGxvZy5kYXRhICYmIGxvZy5kYXRhICE9PSAnMHgnKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbXBsaWZpZWQgcGFyc2luZyAtIHdvdWxkIG5lZWQgcHJvcGVyIEFCSSBkZWNvZGluZyBpbiBwcm9kdWN0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBsb2cuZGF0YS5zbGljZSgyKTsgLy8gcmVtb3ZlICcweCdcclxuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID49IDEyOCkgeyAvLyAyIHVpbnQyNTYgdmFsdWVzICg2NCBoZXggY2hhcnMgZWFjaCkgKyBib29sICgzMilcclxuICAgICAgICAgICAgICBldGhBbW91bnQgPSBCaWdJbnQoJzB4JyArIGRhdGEuc2xpY2UoMCwgNjQpKTtcclxuICAgICAgICAgICAgICB0b2tlbkFtb3VudCA9IEJpZ0ludCgnMHgnICsgZGF0YS5zbGljZSg2NCwgMTI4KSk7XHJcbiAgICAgICAgICAgICAgLy8gTGFzdCAzMiBieXRlcyBpcyBib29sIGV0aFRvVG9rZW4gLSAwIGlzIGZhbHNlLCAxIGlzIHRydWVcclxuICAgICAgICAgICAgICBjb25zdCBldGhUb1Rva2VuVmFsdWUgPSBkYXRhLnNsaWNlKDEyOCwgMTMyKTsgLy8gZmlyc3QgNCBjaGFycyBpcyBlbm91Z2hcclxuICAgICAgICAgICAgICBldGhUb1Rva2VuID0gZXRoVG9Ub2tlblZhbHVlICE9PSAnMDAwMCc7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFBhcnNlZCBFVEggZGF0YTogZXRoQW1vdW50PSR7ZXRoQW1vdW50fSwgdG9rZW5BbW91bnQ9JHt0b2tlbkFtb3VudH0sIGV0aFRvVG9rZW49JHtldGhUb1Rva2VufWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZGVjb2RlRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlY29kaW5nIEVUSCBkYXRhOicsIGRlY29kZUVycm9yKTtcclxuICAgICAgICAgIC8vIFVzZSBkZWZhdWx0IHZhbHVlcyBhcyBmYWxsYmFja1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGRlZmF1bHQgdmFsdWVzIGR1ZSB0byBFVEggZGVjb2RlIGVycm9yJyk7XHJcbiAgICAgICAgICBldGhBbW91bnQgPSBCaWdJbnQoJzEwMDAwMDAwMDAwMDAwMDAwMDAnKTsgLy8gMSBFVEggYXMgZmFsbGJhY2tcclxuICAgICAgICAgIHRva2VuQW1vdW50ID0gQmlnSW50KCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7IC8vIDEgdG9rZW4gYXMgZmFsbGJhY2tcclxuICAgICAgICAgIGV0aFRvVG9rZW4gPSB0cnVlOyAvLyBEZWZhdWx0IHN3YXAgZGlyZWN0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHZhbHVlcyBpZiBib3RoIGFyZSB6ZXJvXHJcbiAgICAgICAgY29uc3QgZmluYWxFdGhBbW91bnQgPSBldGhBbW91bnQgPiAwID8gZXRoQW1vdW50IDogQmlnSW50KCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7XHJcbiAgICAgICAgY29uc3QgZmluYWxUb2tlbkFtb3VudCA9IHRva2VuQW1vdW50ID4gMCA/IHRva2VuQW1vdW50IDogQmlnSW50KCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVm9sdW1lIGluIE1PTiBpcyB0aGUgRVRIIGFtb3VudFxyXG4gICAgICAgIGNvbnN0IHZvbHVtZU1PTiA9IE51bWJlcihmb3JtYXRFdGhlcihmaW5hbEV0aEFtb3VudCkpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIEpYUCAoMSBKWFAgcGVyIDEwIE1PTiB2b2x1bWUpXHJcbiAgICAgICAgY29uc3QgY2FsY3VsYXRlZEpYUCA9IE1hdGguZmxvb3Iodm9sdW1lTU9OIC8gMTApXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHRva2VuIGluIGFuZCBvdXQgYmFzZWQgb24gc3dhcCBkaXJlY3Rpb25cclxuICAgICAgICBjb25zdCB0b2tlbkluID0gZXRoVG9Ub2tlbiA/IE5BVElWRV9UT0tFTl9BRERSRVNTIDogdXNlZFRva2VuXHJcbiAgICAgICAgY29uc3QgdG9rZW5PdXQgPSBldGhUb1Rva2VuID8gdXNlZFRva2VuIDogTkFUSVZFX1RPS0VOX0FERFJFU1NcclxuICAgICAgICBjb25zdCBhbW91bnRJbiA9IGV0aFRvVG9rZW4gPyBmaW5hbEV0aEFtb3VudCA6IGZpbmFsVG9rZW5BbW91bnRcclxuICAgICAgICBjb25zdCBhbW91bnRPdXQgPSBldGhUb1Rva2VuID8gZmluYWxUb2tlbkFtb3VudCA6IGZpbmFsRXRoQW1vdW50XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc3dhcEV2ZW50OiBTd2FwRXZlbnQgPSB7XHJcbiAgICAgICAgICB1c2VyOiBzZW5kZXIsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICB0eEhhc2g6IGxvZy50cmFuc2FjdGlvbkhhc2ggYXMgc3RyaW5nLFxyXG4gICAgICAgICAgdG9rZW5JbixcclxuICAgICAgICAgIHRva2VuT3V0LFxyXG4gICAgICAgICAgYW1vdW50SW46IGFtb3VudEluLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICBhbW91bnRPdXQ6IGFtb3VudE91dC50b1N0cmluZygpLFxyXG4gICAgICAgICAgdm9sdW1lTU9OLFxyXG4gICAgICAgICAgY2FsY3VsYXRlZEpYUCxcclxuICAgICAgICAgIHByb2Nlc3NlZDogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBDcmVhdGVkIEVUSCBzd2FwIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KHN3YXBFdmVudCl9YClcclxuICAgICAgICBzd2FwRXZlbnRzLnB1c2goc3dhcEV2ZW50KVxyXG4gICAgICB9IGNhdGNoIChsb2dFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgaW5kaXZpZHVhbCBFVEggbG9nOiAke2xvZ0Vycm9yfWApXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHN3YXBFdmVudHNcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgSmlrdW5hU3dhcEVUSCBldmVudHM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gW11cclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbImNyZWF0ZVB1YmxpY0NsaWVudCIsImh0dHAiLCJmb3JtYXRFdGhlciIsImRlZmluZUNoYWluIiwibW9uYWRUZXN0bmV0IiwiTkFUSVZFX1RPS0VOX0FERFJFU1MiLCJjb250cmFjdHMiLCJnZXRTd2FwRXZlbnRCeVR4SGFzaCIsInNhdmVTd2FwRXZlbnRzIiwiZ2xvYmFsIiwibGFzdFByb2Nlc3NlZEJsb2NrSmlrdW5hU3dhcCIsInVuZGVmaW5lZCIsImxhc3RQcm9jZXNzZWRCbG9ja0ppa3VuYVN3YXBFVEgiLCJjbGllbnQiLCJjaGFpbiIsInRyYW5zcG9ydCIsInByb2Nlc3MiLCJlbnYiLCJNT05BRF9SUENfVVJMIiwic3dhcEV2ZW50QWJpIiwiYW5vbnltb3VzIiwiaW5wdXRzIiwiaW5kZXhlZCIsIm5hbWUiLCJ0eXBlIiwic3dhcEVUSEV2ZW50QWJpIiwiU1dBUF9FVkVOVF9TSUdOQVRVUkUiLCJTV0FQX0VUSF9FVkVOVF9TSUdOQVRVUkUiLCJqaWt1bmFTd2FwIiwiZnJvbUJsb2NrIiwiamlrdW5hU3dhcEVUSCIsIk1BWF9CTE9DS1NfUEVSX1FVRVJZIiwiQmlnSW50IiwiZmV0Y2hOZXdTd2FwRXZlbnRzIiwiYWxsU3dhcEV2ZW50cyIsImN1cnJlbnRCbG9jayIsImdldEJsb2NrTnVtYmVyIiwiY29uc29sZSIsImxvZyIsInNhZmV0eU92ZXJsYXAiLCJzY2FuRnJvbUppa3VuYVN3YXAiLCJzY2FuRnJvbUppa3VuYVN3YXBFVEgiLCJvcmlnaW5hbE1heEJsb2Nrc1BlclF1ZXJ5IiwicmVkdWNlZE1heEJsb2Nrc1BlclF1ZXJ5Iiwic3dhcEV2ZW50cyIsImZldGNoSmlrdW5hU3dhcEV2ZW50c0JhdGNoZWQiLCJwdXNoIiwibGVuZ3RoIiwic3dhcEVUSEV2ZW50cyIsImZldGNoSmlrdW5hU3dhcEVUSEV2ZW50c0JhdGNoZWQiLCJuZXdTd2Fwc0NvdW50IiwiZXJyb3IiLCJ0b0Jsb2NrIiwiYmF0Y2hTaXplIiwiYWxsRXZlbnRzIiwic3RhcnRCbG9jayIsImVuZEJsb2NrIiwiZXZlbnRzIiwiZmV0Y2hKaWt1bmFTd2FwRXZlbnRzIiwiZmV0Y2hKaWt1bmFTd2FwRVRIRXZlbnRzIiwiYWRkcmVzcyIsImxvZ3MiLCJnZXRMb2dzIiwiZXZlbnQiLCJhbGxMb2dzIiwiZmlsdGVyIiwidG9waWNzIiwidG9Mb3dlckNhc2UiLCJhbHRFcnJvciIsInJhd0xvZ3MiLCJlbWVyZ2VuY3lFcnJvciIsInRyYW5zYWN0aW9uSGFzaCIsImJsb2NrTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsInR4SGFzaCIsIm1hcCIsInQiLCJ0b1N0cmluZyIsImV4aXN0aW5nRXZlbnQiLCJzZW5kZXIiLCJzdWJzdHJpbmciLCJ0byIsInRva2VuSW4iLCJ0b2tlbk91dCIsInVzZWRUb2tlbkluIiwidXNlZFRva2VuT3V0IiwiYW1vdW50MEluIiwiYW1vdW50MUluIiwiYW1vdW50ME91dCIsImFtb3VudDFPdXQiLCJkYXRhIiwic2xpY2UiLCJkZWNvZGVFcnJvciIsImFtb3VudEluIiwiYW1vdW50T3V0IiwiZmluYWxBbW91bnRJbiIsImZpbmFsQW1vdW50T3V0Iiwidm9sdW1lTU9OIiwiTnVtYmVyIiwiY2FsY3VsYXRlZEpYUCIsIk1hdGgiLCJmbG9vciIsInN3YXBFdmVudCIsInVzZXIiLCJ0aW1lc3RhbXAiLCJEYXRlIiwicHJvY2Vzc2VkIiwibG9nRXJyb3IiLCJ0b2tlbiIsInVzZWRUb2tlbiIsImV0aEFtb3VudCIsInRva2VuQW1vdW50IiwiZXRoVG9Ub2tlbiIsImV0aFRvVG9rZW5WYWx1ZSIsImZpbmFsRXRoQW1vdW50IiwiZmluYWxUb2tlbkFtb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/blockchain/event-listener.ts\n");

/***/ }),

/***/ "(api)/./lib/database/mongodb.ts":
/*!*********************************!*\
  !*** ./lib/database/mongodb.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clientPromise: () => (/* binding */ clientPromise),\n/* harmony export */   getDb: () => (/* binding */ getDb),\n/* harmony export */   getJXPUpdatesCollection: () => (/* binding */ getJXPUpdatesCollection),\n/* harmony export */   getSwapEventsCollection: () => (/* binding */ getSwapEventsCollection),\n/* harmony export */   getSystemStatsCollection: () => (/* binding */ getSystemStatsCollection)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable\");\n}\nconst uri = process.env.MONGODB_URI;\nconst options = {};\nlet client;\nlet clientPromise;\nlet db;\nif (true) {\n    // In development mode, use a global variable so that the value\n    // is preserved across module reloads caused by HMR (Hot Module Replacement).\n    let globalWithMongo = global;\n    if (!globalWithMongo._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        globalWithMongo._mongoClientPromise = client.connect();\n    }\n    // Pastikan clientPromise tidak undefined\n    clientPromise = globalWithMongo._mongoClientPromise;\n} else {}\nasync function getDb() {\n    if (!db) {\n        const connectedClient = await clientPromise;\n        db = connectedClient.db(\"jikuna-jxp\");\n    }\n    return db;\n}\nasync function getSwapEventsCollection() {\n    const db = await getDb();\n    return db.collection(\"swapEvents\");\n}\nasync function getJXPUpdatesCollection() {\n    const db = await getDb();\n    return db.collection(\"jxpUpdates\");\n}\nasync function getSystemStatsCollection() {\n    const db = await getDb();\n    return db.collection(\"systemStats\");\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGF0YWJhc2UvbW9uZ29kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFEO0FBSXJELElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLEVBQUU7SUFDNUIsTUFBTSxJQUFJQyxNQUFNO0FBQ2xCO0FBRUEsTUFBTUMsTUFBTUosUUFBUUMsR0FBRyxDQUFDQyxXQUFXO0FBQ25DLE1BQU1HLFVBQVUsQ0FBQztBQUVqQixJQUFJQztBQUNKLElBQUlDO0FBQ0osSUFBSUM7QUFFSixJQUFJUixJQUF5QixFQUFlO0lBQzFDLCtEQUErRDtJQUMvRCw2RUFBNkU7SUFDN0UsSUFBSVMsa0JBQWtCQztJQUl0QixJQUFJLENBQUNELGdCQUFnQkUsbUJBQW1CLEVBQUU7UUFDeENMLFNBQVMsSUFBSVAsZ0RBQVdBLENBQUNLLEtBQUtDO1FBQzlCSSxnQkFBZ0JFLG1CQUFtQixHQUFHTCxPQUFPTSxPQUFPO0lBQ3REO0lBQ0EseUNBQXlDO0lBQ3pDTCxnQkFBZ0JFLGdCQUFnQkUsbUJBQW1CO0FBQ3JELE9BQU8sRUFJTjtBQUVNLGVBQWVFO0lBQ3BCLElBQUksQ0FBQ0wsSUFBSTtRQUNQLE1BQU1NLGtCQUFrQixNQUFNUDtRQUM5QkMsS0FBS00sZ0JBQWdCTixFQUFFLENBQUM7SUFDMUI7SUFDQSxPQUFPQTtBQUNUO0FBRU8sZUFBZU87SUFDcEIsTUFBTVAsS0FBSyxNQUFNSztJQUNqQixPQUFPTCxHQUFHUSxVQUFVLENBQVk7QUFDbEM7QUFFTyxlQUFlQztJQUNwQixNQUFNVCxLQUFLLE1BQU1LO0lBQ2pCLE9BQU9MLEdBQUdRLFVBQVUsQ0FBWTtBQUNsQztBQUVPLGVBQWVFO0lBQ3BCLE1BQU1WLEtBQUssTUFBTUs7SUFDakIsT0FBT0wsR0FBR1EsVUFBVSxDQUFjO0FBQ3BDO0FBRXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamlrdW5hLXN3YXAtYmFja2VuZC8uL2xpYi9kYXRhYmFzZS9tb25nb2RiLnRzPzhiNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQsIERiLCBDb2xsZWN0aW9uIH0gZnJvbSAnbW9uZ29kYidcclxuaW1wb3J0IHsgU3dhcEV2ZW50IH0gZnJvbSAnQC90eXBlcy9zd2FwLWV2ZW50J1xyXG5pbXBvcnQgeyBKWFBVcGRhdGUsIFN5c3RlbVN0YXRzIH0gZnJvbSAnQC90eXBlcy9qeHAtdXBkYXRlJ1xyXG5cclxuaWYgKCFwcm9jZXNzLmVudi5NT05HT0RCX1VSSSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUnKVxyXG59XHJcblxyXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSVxyXG5jb25zdCBvcHRpb25zID0ge31cclxuXHJcbmxldCBjbGllbnQ6IE1vbmdvQ2xpZW50XHJcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PlxyXG5sZXQgZGI6IERiXHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAvLyBJbiBkZXZlbG9wbWVudCBtb2RlLCB1c2UgYSBnbG9iYWwgdmFyaWFibGUgc28gdGhhdCB0aGUgdmFsdWVcclxuICAvLyBpcyBwcmVzZXJ2ZWQgYWNyb3NzIG1vZHVsZSByZWxvYWRzIGNhdXNlZCBieSBITVIgKEhvdCBNb2R1bGUgUmVwbGFjZW1lbnQpLlxyXG4gIGxldCBnbG9iYWxXaXRoTW9uZ28gPSBnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbFRoaXMgJiB7XHJcbiAgICBfbW9uZ29DbGllbnRQcm9taXNlPzogUHJvbWlzZTxNb25nb0NsaWVudD5cclxuICB9XHJcblxyXG4gIGlmICghZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2UpIHtcclxuICAgIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpXHJcbiAgICBnbG9iYWxXaXRoTW9uZ28uX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KClcclxuICB9XHJcbiAgLy8gUGFzdGlrYW4gY2xpZW50UHJvbWlzZSB0aWRhayB1bmRlZmluZWRcclxuICBjbGllbnRQcm9taXNlID0gZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2UgYXMgUHJvbWlzZTxNb25nb0NsaWVudD5cclxufSBlbHNlIHtcclxuICAvLyBJbiBwcm9kdWN0aW9uIG1vZGUsIGl0J3MgYmVzdCB0byBub3QgdXNlIGEgZ2xvYmFsIHZhcmlhYmxlLlxyXG4gIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpXHJcbiAgY2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERiKCk6IFByb21pc2U8RGI+IHtcclxuICBpZiAoIWRiKSB7XHJcbiAgICBjb25zdCBjb25uZWN0ZWRDbGllbnQgPSBhd2FpdCBjbGllbnRQcm9taXNlXHJcbiAgICBkYiA9IGNvbm5lY3RlZENsaWVudC5kYignamlrdW5hLWp4cCcpXHJcbiAgfVxyXG4gIHJldHVybiBkYlxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3dhcEV2ZW50c0NvbGxlY3Rpb24oKTogUHJvbWlzZTxDb2xsZWN0aW9uPFN3YXBFdmVudD4+IHtcclxuICBjb25zdCBkYiA9IGF3YWl0IGdldERiKClcclxuICByZXR1cm4gZGIuY29sbGVjdGlvbjxTd2FwRXZlbnQ+KCdzd2FwRXZlbnRzJylcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEpYUFVwZGF0ZXNDb2xsZWN0aW9uKCk6IFByb21pc2U8Q29sbGVjdGlvbjxKWFBVcGRhdGU+PiB7XHJcbiAgY29uc3QgZGIgPSBhd2FpdCBnZXREYigpXHJcbiAgcmV0dXJuIGRiLmNvbGxlY3Rpb248SlhQVXBkYXRlPignanhwVXBkYXRlcycpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTeXN0ZW1TdGF0c0NvbGxlY3Rpb24oKTogUHJvbWlzZTxDb2xsZWN0aW9uPFN5c3RlbVN0YXRzPj4ge1xyXG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGIoKVxyXG4gIHJldHVybiBkYi5jb2xsZWN0aW9uPFN5c3RlbVN0YXRzPignc3lzdGVtU3RhdHMnKVxyXG59XHJcblxyXG5leHBvcnQgeyBjbGllbnRQcm9taXNlIH0gIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiRXJyb3IiLCJ1cmkiLCJvcHRpb25zIiwiY2xpZW50IiwiY2xpZW50UHJvbWlzZSIsImRiIiwiZ2xvYmFsV2l0aE1vbmdvIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJnZXREYiIsImNvbm5lY3RlZENsaWVudCIsImdldFN3YXBFdmVudHNDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsImdldEpYUFVwZGF0ZXNDb2xsZWN0aW9uIiwiZ2V0U3lzdGVtU3RhdHNDb2xsZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/database/mongodb.ts\n");

/***/ }),

/***/ "(api)/./lib/database/swap-events.ts":
/*!*************************************!*\
  !*** ./lib/database/swap-events.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRecentSwapEvents: () => (/* binding */ getRecentSwapEvents),\n/* harmony export */   getSwapEventByTxHash: () => (/* binding */ getSwapEventByTxHash),\n/* harmony export */   getTotalProcessedSwaps: () => (/* binding */ getTotalProcessedSwaps),\n/* harmony export */   getUnprocessedSwapEvents: () => (/* binding */ getUnprocessedSwapEvents),\n/* harmony export */   markSwapEventsAsProcessed: () => (/* binding */ markSwapEventsAsProcessed),\n/* harmony export */   saveSwapEvent: () => (/* binding */ saveSwapEvent),\n/* harmony export */   saveSwapEvents: () => (/* binding */ saveSwapEvents)\n/* harmony export */ });\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mongodb */ \"(api)/./lib/database/mongodb.ts\");\n\nasync function saveSwapEvent(swapEvent) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getSwapEventsCollection)();\n    await collection.insertOne(swapEvent);\n}\nasync function saveSwapEvents(swapEvents) {\n    if (swapEvents.length === 0) return;\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getSwapEventsCollection)();\n    await collection.insertMany(swapEvents);\n}\nasync function getUnprocessedSwapEvents() {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getSwapEventsCollection)();\n    return collection.find({\n        processed: false\n    }).toArray();\n}\nasync function markSwapEventsAsProcessed(swapEventIds) {\n    if (swapEventIds.length === 0) return;\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getSwapEventsCollection)();\n    const now = new Date();\n    await collection.updateMany({\n        _id: {\n            $in: swapEventIds\n        }\n    }, {\n        $set: {\n            processed: true,\n            processedAt: now\n        }\n    });\n}\nasync function getSwapEventByTxHash(txHash) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getSwapEventsCollection)();\n    return collection.findOne({\n        txHash\n    });\n}\nasync function getTotalProcessedSwaps() {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getSwapEventsCollection)();\n    return collection.countDocuments({\n        processed: true\n    });\n}\nasync function getRecentSwapEvents(limit = 10) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getSwapEventsCollection)();\n    return collection.find().sort({\n        timestamp: -1\n    }).limit(limit).toArray();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGF0YWJhc2Uvc3dhcC1ldmVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBbUQ7QUFHNUMsZUFBZUMsY0FBY0MsU0FBb0I7SUFDdEQsTUFBTUMsYUFBYSxNQUFNSCxpRUFBdUJBO0lBQ2hELE1BQU1HLFdBQVdDLFNBQVMsQ0FBQ0Y7QUFDN0I7QUFFTyxlQUFlRyxlQUFlQyxVQUF1QjtJQUMxRCxJQUFJQSxXQUFXQyxNQUFNLEtBQUssR0FBRztJQUM3QixNQUFNSixhQUFhLE1BQU1ILGlFQUF1QkE7SUFDaEQsTUFBTUcsV0FBV0ssVUFBVSxDQUFDRjtBQUM5QjtBQUVPLGVBQWVHO0lBQ3BCLE1BQU1OLGFBQWEsTUFBTUgsaUVBQXVCQTtJQUNoRCxPQUFPRyxXQUFXTyxJQUFJLENBQUM7UUFBRUMsV0FBVztJQUFNLEdBQUdDLE9BQU87QUFDdEQ7QUFFTyxlQUFlQywwQkFBMEJDLFlBQXNCO0lBQ3BFLElBQUlBLGFBQWFQLE1BQU0sS0FBSyxHQUFHO0lBQy9CLE1BQU1KLGFBQWEsTUFBTUgsaUVBQXVCQTtJQUNoRCxNQUFNZSxNQUFNLElBQUlDO0lBRWhCLE1BQU1iLFdBQVdjLFVBQVUsQ0FDekI7UUFBRUMsS0FBSztZQUFFQyxLQUFLTDtRQUFhO0lBQUUsR0FDN0I7UUFBRU0sTUFBTTtZQUFFVCxXQUFXO1lBQU1VLGFBQWFOO1FBQUk7SUFBRTtBQUVsRDtBQUVPLGVBQWVPLHFCQUFxQkMsTUFBYztJQUN2RCxNQUFNcEIsYUFBYSxNQUFNSCxpRUFBdUJBO0lBQ2hELE9BQU9HLFdBQVdxQixPQUFPLENBQUM7UUFBRUQ7SUFBTztBQUNyQztBQUVPLGVBQWVFO0lBQ3BCLE1BQU10QixhQUFhLE1BQU1ILGlFQUF1QkE7SUFDaEQsT0FBT0csV0FBV3VCLGNBQWMsQ0FBQztRQUFFZixXQUFXO0lBQUs7QUFDckQ7QUFFTyxlQUFlZ0Isb0JBQW9CQyxRQUFnQixFQUFFO0lBQzFELE1BQU16QixhQUFhLE1BQU1ILGlFQUF1QkE7SUFDaEQsT0FBT0csV0FDSk8sSUFBSSxHQUNKbUIsSUFBSSxDQUFDO1FBQUVDLFdBQVcsQ0FBQztJQUFFLEdBQ3JCRixLQUFLLENBQUNBLE9BQ05oQixPQUFPO0FBQ1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qaWt1bmEtc3dhcC1iYWNrZW5kLy4vbGliL2RhdGFiYXNlL3N3YXAtZXZlbnRzLnRzPzZiM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0U3dhcEV2ZW50c0NvbGxlY3Rpb24gfSBmcm9tICcuL21vbmdvZGInXHJcbmltcG9ydCB7IFN3YXBFdmVudCB9IGZyb20gJ0AvdHlwZXMvc3dhcC1ldmVudCdcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlU3dhcEV2ZW50KHN3YXBFdmVudDogU3dhcEV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldFN3YXBFdmVudHNDb2xsZWN0aW9uKClcclxuICBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZShzd2FwRXZlbnQpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlU3dhcEV2ZW50cyhzd2FwRXZlbnRzOiBTd2FwRXZlbnRbXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmIChzd2FwRXZlbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldFN3YXBFdmVudHNDb2xsZWN0aW9uKClcclxuICBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE1hbnkoc3dhcEV2ZW50cylcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVucHJvY2Vzc2VkU3dhcEV2ZW50cygpOiBQcm9taXNlPFN3YXBFdmVudFtdPiB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldFN3YXBFdmVudHNDb2xsZWN0aW9uKClcclxuICByZXR1cm4gY29sbGVjdGlvbi5maW5kKHsgcHJvY2Vzc2VkOiBmYWxzZSB9KS50b0FycmF5KClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtTd2FwRXZlbnRzQXNQcm9jZXNzZWQoc3dhcEV2ZW50SWRzOiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmIChzd2FwRXZlbnRJZHMubGVuZ3RoID09PSAwKSByZXR1cm5cclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0U3dhcEV2ZW50c0NvbGxlY3Rpb24oKVxyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICBcclxuICBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU1hbnkoXHJcbiAgICB7IF9pZDogeyAkaW46IHN3YXBFdmVudElkcyB9IH0sXHJcbiAgICB7ICRzZXQ6IHsgcHJvY2Vzc2VkOiB0cnVlLCBwcm9jZXNzZWRBdDogbm93IH0gfVxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN3YXBFdmVudEJ5VHhIYXNoKHR4SGFzaDogc3RyaW5nKTogUHJvbWlzZTxTd2FwRXZlbnQgfCBudWxsPiB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldFN3YXBFdmVudHNDb2xsZWN0aW9uKClcclxuICByZXR1cm4gY29sbGVjdGlvbi5maW5kT25lKHsgdHhIYXNoIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUb3RhbFByb2Nlc3NlZFN3YXBzKCk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldFN3YXBFdmVudHNDb2xsZWN0aW9uKClcclxuICByZXR1cm4gY29sbGVjdGlvbi5jb3VudERvY3VtZW50cyh7IHByb2Nlc3NlZDogdHJ1ZSB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVjZW50U3dhcEV2ZW50cyhsaW1pdDogbnVtYmVyID0gMTApOiBQcm9taXNlPFN3YXBFdmVudFtdPiB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldFN3YXBFdmVudHNDb2xsZWN0aW9uKClcclxuICByZXR1cm4gY29sbGVjdGlvblxyXG4gICAgLmZpbmQoKVxyXG4gICAgLnNvcnQoeyB0aW1lc3RhbXA6IC0xIH0pXHJcbiAgICAubGltaXQobGltaXQpXHJcbiAgICAudG9BcnJheSgpXHJcbn0gIl0sIm5hbWVzIjpbImdldFN3YXBFdmVudHNDb2xsZWN0aW9uIiwic2F2ZVN3YXBFdmVudCIsInN3YXBFdmVudCIsImNvbGxlY3Rpb24iLCJpbnNlcnRPbmUiLCJzYXZlU3dhcEV2ZW50cyIsInN3YXBFdmVudHMiLCJsZW5ndGgiLCJpbnNlcnRNYW55IiwiZ2V0VW5wcm9jZXNzZWRTd2FwRXZlbnRzIiwiZmluZCIsInByb2Nlc3NlZCIsInRvQXJyYXkiLCJtYXJrU3dhcEV2ZW50c0FzUHJvY2Vzc2VkIiwic3dhcEV2ZW50SWRzIiwibm93IiwiRGF0ZSIsInVwZGF0ZU1hbnkiLCJfaWQiLCIkaW4iLCIkc2V0IiwicHJvY2Vzc2VkQXQiLCJnZXRTd2FwRXZlbnRCeVR4SGFzaCIsInR4SGFzaCIsImZpbmRPbmUiLCJnZXRUb3RhbFByb2Nlc3NlZFN3YXBzIiwiY291bnREb2N1bWVudHMiLCJnZXRSZWNlbnRTd2FwRXZlbnRzIiwibGltaXQiLCJzb3J0IiwidGltZXN0YW1wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/database/swap-events.ts\n");

/***/ }),

/***/ "(api)/./lib/utils/auth.ts":
/*!***************************!*\
  !*** ./lib/utils/auth.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   verifyAdminApiKey: () => (/* binding */ verifyAdminApiKey),\n/* harmony export */   verifyCronSecret: () => (/* binding */ verifyCronSecret)\n/* harmony export */ });\n/**\r\n * Memverifikasi API key untuk endpoint admin\r\n */ function verifyAdminApiKey(req) {\n    const apiKey = req.headers[\"x-api-key\"];\n    const validApiKey = process.env.ADMIN_API_KEY || \"admin123\"; // Use default for development\n    return apiKey === validApiKey;\n}\n/**\r\n * Memverifikasi cron secret untuk endpoint cron jobs\r\n */ function verifyCronSecret(req) {\n    const cronSecret = req.headers[\"x-cron-secret\"];\n    const validCronSecret = process.env.CRON_SECRET || \"admin123\"; // Use default for development\n    return cronSecret === validCronSecret;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvdXRpbHMvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUVBOztDQUVDLEdBQ00sU0FBU0Esa0JBQWtCQyxHQUFtQjtJQUNuRCxNQUFNQyxTQUFTRCxJQUFJRSxPQUFPLENBQUMsWUFBWTtJQUN2QyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNDLGFBQWEsSUFBSSxZQUFZLDhCQUE4QjtJQUUzRixPQUFPTCxXQUFXRTtBQUNwQjtBQUVBOztDQUVDLEdBQ00sU0FBU0ksaUJBQWlCUCxHQUFtQjtJQUNsRCxNQUFNUSxhQUFhUixJQUFJRSxPQUFPLENBQUMsZ0JBQWdCO0lBQy9DLE1BQU1PLGtCQUFrQkwsUUFBUUMsR0FBRyxDQUFDSyxXQUFXLElBQUksWUFBWSw4QkFBOEI7SUFFN0YsT0FBT0YsZUFBZUM7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qaWt1bmEtc3dhcC1iYWNrZW5kLy4vbGliL3V0aWxzL2F1dGgudHM/YTg0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gJ25leHQnXHJcblxyXG4vKipcclxuICogTWVtdmVyaWZpa2FzaSBBUEkga2V5IHVudHVrIGVuZHBvaW50IGFkbWluXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5QWRtaW5BcGlLZXkocmVxOiBOZXh0QXBpUmVxdWVzdCk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGFwaUtleSA9IHJlcS5oZWFkZXJzWyd4LWFwaS1rZXknXTtcclxuICBjb25zdCB2YWxpZEFwaUtleSA9IHByb2Nlc3MuZW52LkFETUlOX0FQSV9LRVkgfHwgJ2FkbWluMTIzJzsgLy8gVXNlIGRlZmF1bHQgZm9yIGRldmVsb3BtZW50XHJcbiAgXHJcbiAgcmV0dXJuIGFwaUtleSA9PT0gdmFsaWRBcGlLZXk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNZW12ZXJpZmlrYXNpIGNyb24gc2VjcmV0IHVudHVrIGVuZHBvaW50IGNyb24gam9ic1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeUNyb25TZWNyZXQocmVxOiBOZXh0QXBpUmVxdWVzdCk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGNyb25TZWNyZXQgPSByZXEuaGVhZGVyc1sneC1jcm9uLXNlY3JldCddO1xyXG4gIGNvbnN0IHZhbGlkQ3JvblNlY3JldCA9IHByb2Nlc3MuZW52LkNST05fU0VDUkVUIHx8ICdhZG1pbjEyMyc7IC8vIFVzZSBkZWZhdWx0IGZvciBkZXZlbG9wbWVudFxyXG4gIFxyXG4gIHJldHVybiBjcm9uU2VjcmV0ID09PSB2YWxpZENyb25TZWNyZXQ7XHJcbn0gIl0sIm5hbWVzIjpbInZlcmlmeUFkbWluQXBpS2V5IiwicmVxIiwiYXBpS2V5IiwiaGVhZGVycyIsInZhbGlkQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIkFETUlOX0FQSV9LRVkiLCJ2ZXJpZnlDcm9uU2VjcmV0IiwiY3JvblNlY3JldCIsInZhbGlkQ3JvblNlY3JldCIsIkNST05fU0VDUkVUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/utils/auth.ts\n");

/***/ }),

/***/ "(api)/./pages/api/jxp/events/fetch-swap-events.ts":
/*!***************************************************!*\
  !*** ./pages/api/jxp/events/fetch-swap-events.ts ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_blockchain_event_listener__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/blockchain/event-listener */ \"(api)/./lib/blockchain/event-listener.ts\");\n/* harmony import */ var _lib_utils_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/auth */ \"(api)/./lib/utils/auth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_blockchain_event_listener__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_blockchain_event_listener__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n/**\r\n * API endpoint to fetch new swap events from blockchain\r\n * Called by Vercel cron job every hour\r\n */ async function handler(req, res) {\n    // Only allow POST requests\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            error: \"Method not allowed\"\n        });\n    }\n    // Verifikasi token cron untuk keamanan\n    const authorized = (0,_lib_utils_auth__WEBPACK_IMPORTED_MODULE_1__.verifyCronSecret)(req);\n    if (!authorized) {\n        return res.status(401).json({\n            success: false,\n            message: \"Unauthorized. Missing or invalid cron secret.\"\n        });\n    }\n    try {\n        // Fetch new swap events\n        const { swapEvents, newSwapsCount } = await (0,_lib_blockchain_event_listener__WEBPACK_IMPORTED_MODULE_0__.fetchNewSwapEvents)();\n        // Return success\n        return res.status(200).json({\n            success: true,\n            newSwapsCount,\n            message: `Successfully fetched ${newSwapsCount} new swap events`\n        });\n    } catch (error) {\n        console.error(\"Error in fetch-swap-events API:\", error);\n        return res.status(500).json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvanhwL2V2ZW50cy9mZXRjaC1zd2FwLWV2ZW50cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDb0U7QUFDakI7QUFFbkQ7OztDQUdDLEdBQ2MsZUFBZUUsUUFDNUJDLEdBQW1CLEVBQ25CQyxHQUFvQjtJQUVwQiwyQkFBMkI7SUFDM0IsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU9DLE9BQU87UUFBcUI7SUFDNUU7SUFFQSx1Q0FBdUM7SUFDdkMsTUFBTUMsYUFBYVQsaUVBQWdCQSxDQUFDRTtJQUNwQyxJQUFJLENBQUNPLFlBQVk7UUFDZixPQUFPTixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1RHLFNBQVM7UUFDWDtJQUNGO0lBRUEsSUFBSTtRQUNGLHdCQUF3QjtRQUN4QixNQUFNLEVBQUVDLFVBQVUsRUFBRUMsYUFBYSxFQUFFLEdBQUcsTUFBTWIsa0ZBQWtCQTtRQUU5RCxpQkFBaUI7UUFDakIsT0FBT0ksSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUSztZQUNBRixTQUFTLENBQUMscUJBQXFCLEVBQUVFLGNBQWMsZ0JBQWdCLENBQUM7UUFDbEU7SUFDRixFQUFFLE9BQU9KLE9BQU87UUFDZEssUUFBUUwsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakQsT0FBT0wsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkMsU0FBUztZQUNUQyxPQUFPQSxpQkFBaUJNLFFBQVFOLE1BQU1FLE9BQU8sR0FBRztRQUNsRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qaWt1bmEtc3dhcC1iYWNrZW5kLy4vcGFnZXMvYXBpL2p4cC9ldmVudHMvZmV0Y2gtc3dhcC1ldmVudHMudHM/MTMzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcclxuaW1wb3J0IHsgZmV0Y2hOZXdTd2FwRXZlbnRzIH0gZnJvbSAnQC9saWIvYmxvY2tjaGFpbi9ldmVudC1saXN0ZW5lcidcclxuaW1wb3J0IHsgdmVyaWZ5Q3JvblNlY3JldCB9IGZyb20gJ0AvbGliL3V0aWxzL2F1dGgnXHJcblxyXG4vKipcclxuICogQVBJIGVuZHBvaW50IHRvIGZldGNoIG5ldyBzd2FwIGV2ZW50cyBmcm9tIGJsb2NrY2hhaW5cclxuICogQ2FsbGVkIGJ5IFZlcmNlbCBjcm9uIGpvYiBldmVyeSBob3VyXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxyXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXHJcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcclxuKSB7XHJcbiAgLy8gT25seSBhbGxvdyBQT1NUIHJlcXVlc3RzXHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KVxyXG4gIH1cclxuXHJcbiAgLy8gVmVyaWZpa2FzaSB0b2tlbiBjcm9uIHVudHVrIGtlYW1hbmFuXHJcbiAgY29uc3QgYXV0aG9yaXplZCA9IHZlcmlmeUNyb25TZWNyZXQocmVxKTtcclxuICBpZiAoIWF1dGhvcml6ZWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQuIE1pc3Npbmcgb3IgaW52YWxpZCBjcm9uIHNlY3JldC4nIFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gRmV0Y2ggbmV3IHN3YXAgZXZlbnRzXHJcbiAgICBjb25zdCB7IHN3YXBFdmVudHMsIG5ld1N3YXBzQ291bnQgfSA9IGF3YWl0IGZldGNoTmV3U3dhcEV2ZW50cygpXHJcblxyXG4gICAgLy8gUmV0dXJuIHN1Y2Nlc3NcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG5ld1N3YXBzQ291bnQsXHJcbiAgICAgIG1lc3NhZ2U6IGBTdWNjZXNzZnVsbHkgZmV0Y2hlZCAke25ld1N3YXBzQ291bnR9IG5ldyBzd2FwIGV2ZW50c2BcclxuICAgIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGZldGNoLXN3YXAtZXZlbnRzIEFQSTonLCBlcnJvcilcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcclxuICAgIH0pXHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJmZXRjaE5ld1N3YXBFdmVudHMiLCJ2ZXJpZnlDcm9uU2VjcmV0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJhdXRob3JpemVkIiwibWVzc2FnZSIsInN3YXBFdmVudHMiLCJuZXdTd2Fwc0NvdW50IiwiY29uc29sZSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/jxp/events/fetch-swap-events.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fjxp%2Fevents%2Ffetch-swap-events&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cjxp%5Cevents%5Cfetch-swap-events.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();